{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { SessionService } from \"../../services/user/session.service\";\nimport { useFocusEffect } from \"@react-navigation/native\";\nimport { CRUDService } from \"../../services/user/CRUD.service\";\nimport React, { useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function ProfileScreen() {\n  var _currentUser$follower, _currentUser$followed;\n  var navigation = useNavigation();\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentUser = _useState2[0],\n    setCurrentUser = _useState2[1];\n  var logOutButtonFunction = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var nothing = \"\";\n        AsyncStorage.setItem('token', nothing);\n        navigation.navigate('LoginScreen');\n      } catch (error) {\n        console.error(\"Error deleting the token: \", error);\n      }\n    });\n    return function logOutButtonFunction() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  useFocusEffect(React.useCallback(function () {\n    var getUser = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        var userId = yield SessionService.getCurrentUser();\n        console.log(\"BBBBBBBBBBBB:  \" + userId);\n        if (userId) {\n          try {\n            yield CRUDService.getUser(userId).then(function (response) {\n              console.log(\"Punto 1:\" + response);\n              console.log(response == null ? void 0 : response.data);\n              setCurrentUser(response == null ? void 0 : response.data);\n            });\n          } catch (error) {\n            console.log(\"Encontre el id pero no va\");\n          }\n        }\n      });\n      return function getUser() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    getUser();\n  }, []));\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Button, {\n      title: \"LogOut\",\n      onPress: logOutButtonFunction\n    }), _jsx(View, {\n      style: styles.titleContainer,\n      children: _jsx(Text, {\n        style: styles.text,\n        children: \"Profile\"\n      })\n    }), _jsx(View, {\n      style: styles.profileContour,\n      children: currentUser && _jsx(View, {\n        style: styles.profileContainer,\n        children: _jsxs(View, {\n          style: styles.profile,\n          children: [_jsxs(Text, {\n            style: styles.profileUserName,\n            children: [currentUser.appUser, \" Hola\"]\n          }), _jsx(View, {\n            style: styles.profileImage,\n            children: _jsx(Image, {\n              source: {\n                uri: currentUser.photoUser\n              },\n              style: styles.profileImgCard\n            })\n          }), _jsxs(View, {\n            style: styles.profileUserButtons,\n            children: [_jsx(TouchableOpacity, {\n              onPress: function onPress() {},\n              style: styles.buttonProfile,\n              children: _jsx(Text, {\n                style: styles.text,\n                children: \"Edit Profile\"\n              })\n            }), _jsx(TouchableOpacity, {\n              onPress: function onPress() {},\n              style: styles.buttonProfile,\n              children: _jsx(Text, {\n                style: styles.text,\n                children: \"Settings\"\n              })\n            })]\n          }), _jsxs(View, {\n            style: styles.profileStats,\n            children: [_jsx(Text, {\n              style: styles.text,\n              children: \"Followers\"\n            }), _jsx(Text, {\n              style: styles.profileStatCount,\n              children: (_currentUser$follower = currentUser.followersUser) == null ? void 0 : _currentUser$follower.length\n            }), _jsx(Text, {\n              style: styles.text,\n              children: \"Following\"\n            }), _jsx(Text, {\n              style: styles.profileStatCount,\n              children: (_currentUser$followed = currentUser.followedUser) == null ? void 0 : _currentUser$followed.length\n            })]\n          }), _jsxs(View, {\n            style: styles.profileBio,\n            children: [_jsx(Text, {\n              style: styles.profileTitle,\n              children: \"Name\"\n            }), _jsx(Text, {\n              children: _jsx(Text, {\n                style: styles.profileRealName,\n                children: currentUser.nameUser\n              })\n            }), _jsx(Text, {\n              style: styles.profileTitle,\n              children: \"Description\"\n            }), _jsx(Text, {\n              children: currentUser.descriptionUser\n            })]\n          })]\n        })\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#ffffff\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  text: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    color: \"#000\"\n  },\n  titleContainer: {},\n  titleSection: {},\n  profileContour: {},\n  profileContainer: {},\n  profile: {},\n  profileUserName: {},\n  profileImage: {},\n  profileImgCard: {},\n  profileUserButton: {},\n  profileUserButtons: {},\n  buttonProfile: {},\n  profileStats: {},\n  profileTitle: {},\n  profileStatCount: {},\n  profileBio: {},\n  profileRealName: {}\n});","map":{"version":3,"names":["SessionService","useFocusEffect","CRUDService","React","useState","StyleSheet","Text","View","Image","TouchableOpacity","Button","useNavigation","AsyncStorage","jsx","_jsx","jsxs","_jsxs","ProfileScreen","_currentUser$follower","_currentUser$followed","navigation","_useState","_useState2","_slicedToArray","currentUser","setCurrentUser","logOutButtonFunction","_ref","_asyncToGenerator","nothing","setItem","navigate","error","console","apply","arguments","useCallback","getUser","_ref2","userId","getCurrentUser","log","then","response","data","style","styles","container","children","title","onPress","titleContainer","text","profileContour","profileContainer","profile","profileUserName","appUser","profileImage","source","uri","photoUser","profileImgCard","profileUserButtons","buttonProfile","profileStats","profileStatCount","followersUser","length","followedUser","profileBio","profileTitle","profileRealName","nameUser","descriptionUser","create","flex","backgroundColor","alignItems","justifyContent","fontSize","fontWeight","color","titleSection","profileUserButton"],"sources":["C:/Users/eloim/OneDrive/Uni/4B/EA/ProyectoEA/Frontend_/FrontEnd_EA_App/src/infrastructure/UI/screens/profile.screen.tsx"],"sourcesContent":["import { SessionService } from \"../../services/user/session.service\";\r\nimport { UserEntity } from \"../../../domain/user/user.entity\";\r\nimport { useFocusEffect } from \"@react-navigation/native\";\r\nimport { CRUDService } from \"../../services/user/CRUD.service\";\r\nimport React, { useState } from \"react\";\r\nimport { StyleSheet, Text, View, Image, TouchableOpacity, Button } from \"react-native\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nexport default function ProfileScreen() {\r\n\r\n  const navigation = useNavigation();\r\n  \r\n  const [currentUser, setCurrentUser] = useState<UserEntity | null>(null);\r\n\r\n  const logOutButtonFunction = async () => {\r\n    try {\r\n      const nothing = \"\";\r\n      AsyncStorage.setItem('token', nothing);\r\n      navigation.navigate('LoginScreen' as never);\r\n    } catch (error) {\r\n      console.error(\"Error deleting the token: \", error);\r\n    }\r\n  };\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      const getUser = async () => {\r\n        const userId = await SessionService.getCurrentUser();\r\n        console.log(\"BBBBBBBBBBBB:  \"+userId);\r\n        if (userId) {\r\n          try {\r\n            await CRUDService.getUser(userId)\r\n            .then((response) => {\r\n              console.log(\"Punto 1:\"+response);\r\n              console.log(response?.data);\r\n              setCurrentUser(response?.data);\r\n            })\r\n          } catch (error) {\r\n            console.log(\"Encontre el id pero no va\")\r\n          }\r\n        }\r\n      };\r\n      getUser();\r\n    }, [])\r\n  );\r\n  \r\n  return (\r\n    <View style={styles.container}>\r\n      <Button title=\"LogOut\" onPress={logOutButtonFunction} />\r\n      <View style={styles.titleContainer}>\r\n        <Text style={styles.text}>Profile</Text>\r\n      </View>\r\n      <View style={styles.profileContour}>\r\n        {currentUser && (\r\n          <View style={styles.profileContainer}>\r\n            <View style={styles.profile}>\r\n              <Text style={styles.profileUserName}>{currentUser.appUser} Hola</Text>\r\n              <View style={styles.profileImage}>\r\n                <Image\r\n                  source={{ uri: currentUser.photoUser }}\r\n                  style={styles.profileImgCard}\r\n                />\r\n              </View>\r\n              <View style={styles.profileUserButtons}>\r\n                <TouchableOpacity\r\n                  onPress={() => {\r\n                    // Acción al presionar el botón de Editar perfil\r\n                  }}\r\n                  style={styles.buttonProfile}\r\n                >\r\n                  <Text style={styles.text}>Edit Profile</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity\r\n                  onPress={() => {\r\n                    // Acción al presionar el botón de Configuración\r\n                  }}\r\n                  style={styles.buttonProfile}\r\n                >\r\n                  <Text style={styles.text}>Settings</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={styles.profileStats}>\r\n                <Text style={styles.text}>Followers</Text>\r\n                <Text style={styles.profileStatCount}>\r\n                  {currentUser.followersUser?.length}\r\n                </Text>\r\n                <Text style={styles.text}>Following</Text>\r\n                <Text style={styles.profileStatCount}>\r\n                  {currentUser.followedUser?.length}\r\n                </Text>\r\n              </View>\r\n              <View style={styles.profileBio}>\r\n                <Text style={styles.profileTitle}>Name</Text>\r\n                <Text>\r\n                  <Text style={styles.profileRealName}>\r\n                    {currentUser.nameUser}\r\n                  </Text>\r\n                </Text>\r\n                <Text style={styles.profileTitle}>Description</Text>\r\n                <Text>{currentUser.descriptionUser}</Text>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        )}\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"#ffffff\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  text: {\r\n    fontSize: 24,\r\n    fontWeight: \"bold\",\r\n    color: \"#000\",\r\n  },\r\n  titleContainer: {},\r\n  titleSection: {},\r\n  profileContour: {},\r\n  profileContainer: {},\r\n  profile: {},\r\n  profileUserName: {},\r\n  profileImage: {},\r\n  profileImgCard: {},\r\n  profileUserButton: {},\r\n  profileUserButtons: {},\r\n  buttonProfile: {},\r\n  profileStats: {},\r\n  profileTitle: {},\r\n  profileStatCount: {},\r\n  profileBio: {},\r\n  profileRealName: {},\r\n});\r\n"],"mappings":";;AAAA,SAASA,cAAc;AAEvB,SAASC,cAAc,QAAQ,0BAA0B;AACzD,SAASC,WAAW;AACpB,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,UAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,MAAA;AAExC,SAASC,aAAa,QAAQ,0BAA0B;AACxD,OAAOC,YAAY,MAAM,2CAA2C;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAErE,eAAe,SAASC,aAAaA,CAAA,EAAG;EAAA,IAAAC,qBAAA,EAAAC,qBAAA;EAEtC,IAAMC,UAAU,GAAGT,aAAa,CAAC,CAAC;EAElC,IAAAU,SAAA,GAAsCjB,QAAQ,CAAoB,IAAI,CAAC;IAAAkB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAhEG,WAAW,GAAAF,UAAA;IAAEG,cAAc,GAAAH,UAAA;EAElC,IAAMI,oBAAoB;IAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;MACvC,IAAI;QACF,IAAMC,OAAO,GAAG,EAAE;QAClBjB,YAAY,CAACkB,OAAO,CAAC,OAAO,EAAED,OAAO,CAAC;QACtCT,UAAU,CAACW,QAAQ,CAAC,aAAsB,CAAC;MAC7C,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MACpD;IACF,CAAC;IAAA,gBARKN,oBAAoBA,CAAA;MAAA,OAAAC,IAAA,CAAAO,KAAA,OAAAC,SAAA;IAAA;EAAA,GAQzB;EAEDlC,cAAc,CACZE,KAAK,CAACiC,WAAW,CAAC,YAAM;IACtB,IAAMC,OAAO;MAAA,IAAAC,KAAA,GAAAV,iBAAA,CAAG,aAAY;QAC1B,IAAMW,MAAM,SAASvC,cAAc,CAACwC,cAAc,CAAC,CAAC;QACpDP,OAAO,CAACQ,GAAG,CAAC,iBAAiB,GAACF,MAAM,CAAC;QACrC,IAAIA,MAAM,EAAE;UACV,IAAI;YACF,MAAMrC,WAAW,CAACmC,OAAO,CAACE,MAAM,CAAC,CAChCG,IAAI,CAAC,UAACC,QAAQ,EAAK;cAClBV,OAAO,CAACQ,GAAG,CAAC,UAAU,GAACE,QAAQ,CAAC;cAChCV,OAAO,CAACQ,GAAG,CAACE,QAAQ,oBAARA,QAAQ,CAAEC,IAAI,CAAC;cAC3BnB,cAAc,CAACkB,QAAQ,oBAARA,QAAQ,CAAEC,IAAI,CAAC;YAChC,CAAC,CAAC;UACJ,CAAC,CAAC,OAAOZ,KAAK,EAAE;YACdC,OAAO,CAACQ,GAAG,CAAC,2BAA2B,CAAC;UAC1C;QACF;MACF,CAAC;MAAA,gBAfKJ,OAAOA,CAAA;QAAA,OAAAC,KAAA,CAAAJ,KAAA,OAAAC,SAAA;MAAA;IAAA,GAeZ;IACDE,OAAO,CAAC,CAAC;EACX,CAAC,EAAE,EAAE,CACP,CAAC;EAED,OACErB,KAAA,CAACT,IAAI;IAACsC,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,GAC5BlC,IAAA,CAACJ,MAAM;MAACuC,KAAK,EAAC,QAAQ;MAACC,OAAO,EAAExB;IAAqB,CAAE,CAAC,EACxDZ,IAAA,CAACP,IAAI;MAACsC,KAAK,EAAEC,MAAM,CAACK,cAAe;MAAAH,QAAA,EACjClC,IAAA,CAACR,IAAI;QAACuC,KAAK,EAAEC,MAAM,CAACM,IAAK;QAAAJ,QAAA,EAAC;MAAO,CAAM;IAAC,CACpC,CAAC,EACPlC,IAAA,CAACP,IAAI;MAACsC,KAAK,EAAEC,MAAM,CAACO,cAAe;MAAAL,QAAA,EAChCxB,WAAW,IACVV,IAAA,CAACP,IAAI;QAACsC,KAAK,EAAEC,MAAM,CAACQ,gBAAiB;QAAAN,QAAA,EACnChC,KAAA,CAACT,IAAI;UAACsC,KAAK,EAAEC,MAAM,CAACS,OAAQ;UAAAP,QAAA,GAC1BhC,KAAA,CAACV,IAAI;YAACuC,KAAK,EAAEC,MAAM,CAACU,eAAgB;YAAAR,QAAA,GAAExB,WAAW,CAACiC,OAAO,EAAC,OAAK;UAAA,CAAM,CAAC,EACtE3C,IAAA,CAACP,IAAI;YAACsC,KAAK,EAAEC,MAAM,CAACY,YAAa;YAAAV,QAAA,EAC/BlC,IAAA,CAACN,KAAK;cACJmD,MAAM,EAAE;gBAAEC,GAAG,EAAEpC,WAAW,CAACqC;cAAU,CAAE;cACvChB,KAAK,EAAEC,MAAM,CAACgB;YAAe,CAC9B;UAAC,CACE,CAAC,EACP9C,KAAA,CAACT,IAAI;YAACsC,KAAK,EAAEC,MAAM,CAACiB,kBAAmB;YAAAf,QAAA,GACrClC,IAAA,CAACL,gBAAgB;cACfyC,OAAO,EAAE,SAAAA,QAAA,EAAM,CAEf,CAAE;cACFL,KAAK,EAAEC,MAAM,CAACkB,aAAc;cAAAhB,QAAA,EAE5BlC,IAAA,CAACR,IAAI;gBAACuC,KAAK,EAAEC,MAAM,CAACM,IAAK;gBAAAJ,QAAA,EAAC;cAAY,CAAM;YAAC,CAC7B,CAAC,EACnBlC,IAAA,CAACL,gBAAgB;cACfyC,OAAO,EAAE,SAAAA,QAAA,EAAM,CAEf,CAAE;cACFL,KAAK,EAAEC,MAAM,CAACkB,aAAc;cAAAhB,QAAA,EAE5BlC,IAAA,CAACR,IAAI;gBAACuC,KAAK,EAAEC,MAAM,CAACM,IAAK;gBAAAJ,QAAA,EAAC;cAAQ,CAAM;YAAC,CACzB,CAAC;UAAA,CACf,CAAC,EACPhC,KAAA,CAACT,IAAI;YAACsC,KAAK,EAAEC,MAAM,CAACmB,YAAa;YAAAjB,QAAA,GAC/BlC,IAAA,CAACR,IAAI;cAACuC,KAAK,EAAEC,MAAM,CAACM,IAAK;cAAAJ,QAAA,EAAC;YAAS,CAAM,CAAC,EAC1ClC,IAAA,CAACR,IAAI;cAACuC,KAAK,EAAEC,MAAM,CAACoB,gBAAiB;cAAAlB,QAAA,GAAA9B,qBAAA,GAClCM,WAAW,CAAC2C,aAAa,qBAAzBjD,qBAAA,CAA2BkD;YAAM,CAC9B,CAAC,EACPtD,IAAA,CAACR,IAAI;cAACuC,KAAK,EAAEC,MAAM,CAACM,IAAK;cAAAJ,QAAA,EAAC;YAAS,CAAM,CAAC,EAC1ClC,IAAA,CAACR,IAAI;cAACuC,KAAK,EAAEC,MAAM,CAACoB,gBAAiB;cAAAlB,QAAA,GAAA7B,qBAAA,GAClCK,WAAW,CAAC6C,YAAY,qBAAxBlD,qBAAA,CAA0BiD;YAAM,CAC7B,CAAC;UAAA,CACH,CAAC,EACPpD,KAAA,CAACT,IAAI;YAACsC,KAAK,EAAEC,MAAM,CAACwB,UAAW;YAAAtB,QAAA,GAC7BlC,IAAA,CAACR,IAAI;cAACuC,KAAK,EAAEC,MAAM,CAACyB,YAAa;cAAAvB,QAAA,EAAC;YAAI,CAAM,CAAC,EAC7ClC,IAAA,CAACR,IAAI;cAAA0C,QAAA,EACHlC,IAAA,CAACR,IAAI;gBAACuC,KAAK,EAAEC,MAAM,CAAC0B,eAAgB;gBAAAxB,QAAA,EACjCxB,WAAW,CAACiD;cAAQ,CACjB;YAAC,CACH,CAAC,EACP3D,IAAA,CAACR,IAAI;cAACuC,KAAK,EAAEC,MAAM,CAACyB,YAAa;cAAAvB,QAAA,EAAC;YAAW,CAAM,CAAC,EACpDlC,IAAA,CAACR,IAAI;cAAA0C,QAAA,EAAExB,WAAW,CAACkD;YAAe,CAAO,CAAC;UAAA,CACtC,CAAC;QAAA,CACH;MAAC,CACH;IACP,CACG,CAAC;EAAA,CACH,CAAC;AAEX;AAEA,IAAM5B,MAAM,GAAGzC,UAAU,CAACsE,MAAM,CAAC;EAC/B5B,SAAS,EAAE;IACT6B,IAAI,EAAE,CAAC;IACPC,eAAe,EAAE,SAAS;IAC1BC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE;EAClB,CAAC;EACD3B,IAAI,EAAE;IACJ4B,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE,MAAM;IAClBC,KAAK,EAAE;EACT,CAAC;EACD/B,cAAc,EAAE,CAAC,CAAC;EAClBgC,YAAY,EAAE,CAAC,CAAC;EAChB9B,cAAc,EAAE,CAAC,CAAC;EAClBC,gBAAgB,EAAE,CAAC,CAAC;EACpBC,OAAO,EAAE,CAAC,CAAC;EACXC,eAAe,EAAE,CAAC,CAAC;EACnBE,YAAY,EAAE,CAAC,CAAC;EAChBI,cAAc,EAAE,CAAC,CAAC;EAClBsB,iBAAiB,EAAE,CAAC,CAAC;EACrBrB,kBAAkB,EAAE,CAAC,CAAC;EACtBC,aAAa,EAAE,CAAC,CAAC;EACjBC,YAAY,EAAE,CAAC,CAAC;EAChBM,YAAY,EAAE,CAAC,CAAC;EAChBL,gBAAgB,EAAE,CAAC,CAAC;EACpBI,UAAU,EAAE,CAAC,CAAC;EACdE,eAAe,EAAE,CAAC;AACpB,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}