{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport axios from \"axios\";\nimport { AuthHeaderService } from \"../user/authHeaders.service\";\nvar API_URL = \"http://147.83.7.158:5432/publication/\";\nexport var PublicationService = function () {\n  function PublicationService() {\n    _classCallCheck(this, PublicationService);\n  }\n  _createClass(PublicationService, null, [{\n    key: \"feed\",\n    value: function () {\n      var _feed = _asyncToGenerator(function* (numPage, uuid) {\n        var token = yield AuthHeaderService.authHeader();\n        try {\n          var response = yield axios.get(API_URL + \"followingPost/\" + numPage + \"/\" + uuid, {\n            headers: token\n          });\n          return response;\n        } catch (error) {\n          console.error('Error during post publication: ' + error);\n          throw error;\n        }\n      });\n      function feed(_x, _x2) {\n        return _feed.apply(this, arguments);\n      }\n      return feed;\n    }()\n  }, {\n    key: \"uploadPublication\",\n    value: function () {\n      var _uploadPublication = _asyncToGenerator(function* (publication) {\n        var token = yield AuthHeaderService.authHeader();\n        console.log(\"ESTO ES EL TOKEN:  \" + token);\n        try {\n          console.log(\"ando aqui\");\n          var response = yield axios.post(API_URL, publication, {\n            headers: token\n          });\n          console.log(\"RESPUESTA: \" + response.data);\n          return response;\n        } catch (error) {\n          console.error('Error during post publication: ' + error);\n          throw error;\n        }\n      });\n      function uploadPublication(_x3) {\n        return _uploadPublication.apply(this, arguments);\n      }\n      return uploadPublication;\n    }()\n  }]);\n  return PublicationService;\n}();","map":{"version":3,"names":["axios","AuthHeaderService","API_URL","PublicationService","_classCallCheck","_createClass","key","value","_feed","_asyncToGenerator","numPage","uuid","token","authHeader","response","get","headers","error","console","feed","_x","_x2","apply","arguments","_uploadPublication","publication","log","post","data","uploadPublication","_x3"],"sources":["C:/Users/eloim/OneDrive/Uni/4B/EA/ProyectoEA/Frontend_/FrontEnd_EA_App/src/infrastructure/services/publication/publication.service.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport { AuthHeaderService } from \"../user/authHeaders.service\";\r\nimport { PublicationEntity } from \"../../../domain/publication/publication.entity\";\r\n\r\nconst API_URL = \"http://147.83.7.158:5432/publication/\";\r\n\r\n\r\n\r\nexport class PublicationService {\r\n  static async feed(numPage: string, uuid: string) {\r\n    const token = await AuthHeaderService.authHeader();\r\n    try {\r\n      const response = await axios.get(API_URL + \"followingPost/\" + numPage + \"/\" + uuid, { headers: token });\r\n      //console.log(\"try response \" + response)\r\n      return response;\r\n    } catch(error){\r\n      console.error('Error during post publication: '+error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  static async uploadPublication(publication:PublicationEntity){\r\n    const token = await AuthHeaderService.authHeader();\r\n    console.log(\"ESTO ES EL TOKEN:  \"+token)\r\n    try{\r\n      console.log(\"ando aqui\");\r\n      const response=await axios.post(API_URL, publication,{headers:token});\r\n      console.log(\"RESPUESTA: \"+ response.data)\r\n      return response;\r\n    } catch(error){\r\n      console.error('Error during post publication: '+error);\r\n      throw error;\r\n    }\r\n  }\r\n  \r\n\r\n}"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,iBAAiB;AAG1B,IAAMC,OAAO,GAAG,uCAAuC;AAIvD,WAAaC,kBAAkB;EAAA,SAAAA,mBAAA;IAAAC,eAAA,OAAAD,kBAAA;EAAA;EAAAE,YAAA,CAAAF,kBAAA;IAAAG,GAAA;IAAAC,KAAA;MAAA,IAAAC,KAAA,GAAAC,iBAAA,CAC7B,WAAkBC,OAAe,EAAEC,IAAY,EAAE;QAC/C,IAAMC,KAAK,SAASX,iBAAiB,CAACY,UAAU,CAAC,CAAC;QAClD,IAAI;UACF,IAAMC,QAAQ,SAASd,KAAK,CAACe,GAAG,CAACb,OAAO,GAAG,gBAAgB,GAAGQ,OAAO,GAAG,GAAG,GAAGC,IAAI,EAAE;YAAEK,OAAO,EAAEJ;UAAM,CAAC,CAAC;UAEvG,OAAOE,QAAQ;QACjB,CAAC,CAAC,OAAMG,KAAK,EAAC;UACZC,OAAO,CAACD,KAAK,CAAC,iCAAiC,GAACA,KAAK,CAAC;UACtD,MAAMA,KAAK;QACb;MACF,CAAC;MAAA,SAAAE,KAAAC,EAAA,EAAAC,GAAA;QAAA,OAAAb,KAAA,CAAAc,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAJ,IAAA;IAAA;EAAA;IAAAb,GAAA;IAAAC,KAAA;MAAA,IAAAiB,kBAAA,GAAAf,iBAAA,CAED,WAA+BgB,WAA6B,EAAC;QAC3D,IAAMb,KAAK,SAASX,iBAAiB,CAACY,UAAU,CAAC,CAAC;QAClDK,OAAO,CAACQ,GAAG,CAAC,qBAAqB,GAACd,KAAK,CAAC;QACxC,IAAG;UACDM,OAAO,CAACQ,GAAG,CAAC,WAAW,CAAC;UACxB,IAAMZ,QAAQ,SAAOd,KAAK,CAAC2B,IAAI,CAACzB,OAAO,EAAEuB,WAAW,EAAC;YAACT,OAAO,EAACJ;UAAK,CAAC,CAAC;UACrEM,OAAO,CAACQ,GAAG,CAAC,aAAa,GAAEZ,QAAQ,CAACc,IAAI,CAAC;UACzC,OAAOd,QAAQ;QACjB,CAAC,CAAC,OAAMG,KAAK,EAAC;UACZC,OAAO,CAACD,KAAK,CAAC,iCAAiC,GAACA,KAAK,CAAC;UACtD,MAAMA,KAAK;QACb;MACF,CAAC;MAAA,SAAAY,kBAAAC,GAAA;QAAA,OAAAN,kBAAA,CAAAF,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAM,iBAAA;IAAA;EAAA;EAAA,OAAA1B,kBAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}