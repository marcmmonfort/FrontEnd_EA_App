{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { useEffect, useState } from \"react\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { SessionService } from \"../../services/user/session.service\";\nimport { PublicationService } from \"../../services/publication/publication.service\";\nimport { useFocusEffect, useIsFocused, useNavigation } from \"@react-navigation/native\";\nimport { CRUDService } from \"../../services/user/CRUD.service\";\nimport React from \"react\";\nimport { CommentService } from \"../../services/comment/comment.service\";\nimport StyledTextInputs from \"../components/inputs/StyledTextInputs\";\nimport MaterialCommunityIcons from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport * as Font from 'expo-font';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction loadFonts() {\n  return _loadFonts.apply(this, arguments);\n}\nfunction _loadFonts() {\n  _loadFonts = _asyncToGenerator(function* () {\n    yield Font.loadAsync({\n      'Rafaella': require(\"../../../../assets/fonts/Rafaella.ttf\"),\n      'SFNS': require(\"../../../../assets/fonts/SFNS.otf\")\n    });\n  });\n  return _loadFonts.apply(this, arguments);\n}\nexport default function FeedScreen() {\n  var navigation = useNavigation();\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentUser = _useState2[0],\n    setCurrentUser = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    listPublications = _useState4[0],\n    setListPublications = _useState4[1];\n  var _useState5 = useState(1),\n    _useState6 = _slicedToArray(_useState5, 2),\n    numPagePublication = _useState6[0],\n    setNumPagePublication = _useState6[1];\n  var _useState7 = useState({}),\n    _useState8 = _slicedToArray(_useState7, 2),\n    commentsVisibility = _useState8[0],\n    setCommentsVisibility = _useState8[1];\n  var _useState9 = useState({}),\n    _useState10 = _slicedToArray(_useState9, 2),\n    pageComments = _useState10[0],\n    setPageComments = _useState10[1];\n  var _useState11 = useState({}),\n    _useState12 = _slicedToArray(_useState11, 2),\n    commentButton = _useState12[0],\n    setCommentButton = _useState12[1];\n  var _useState13 = useState({}),\n    _useState14 = _slicedToArray(_useState13, 2),\n    listCommentsPublication = _useState14[0],\n    setListCommentsPublication = _useState14[1];\n  var _useState15 = useState({}),\n    _useState16 = _slicedToArray(_useState15, 2),\n    showCommentForm = _useState16[0],\n    setShowCommentForm = _useState16[1];\n  var _useState17 = useState({}),\n    _useState18 = _slicedToArray(_useState17, 2),\n    commentText = _useState18[0],\n    setCommentText = _useState18[1];\n  var _useState19 = useState('Inicio'),\n    _useState20 = _slicedToArray(_useState19, 2),\n    recargar = _useState20[0],\n    setRecargar = _useState20[1];\n  var _useState21 = useState(0),\n    _useState22 = _slicedToArray(_useState21, 2),\n    numPublications = _useState22[0],\n    setNumPublications = _useState22[1];\n  var _useState23 = useState({}),\n    _useState24 = _slicedToArray(_useState23, 2),\n    hasLiked = _useState24[0],\n    setHasLiked = _useState24[1];\n  var _useState25 = useState(''),\n    _useState26 = _slicedToArray(_useState25, 2),\n    reloadPublication = _useState26[0],\n    setReloadPublication = _useState26[1];\n  var isFocused = useIsFocused();\n  var _useState27 = useState([]),\n    _useState28 = _slicedToArray(_useState27, 2),\n    userList = _useState28[0],\n    setUserList = _useState28[1];\n  var _useState29 = useState(1),\n    _useState30 = _slicedToArray(_useState29, 2),\n    numPage = _useState30[0],\n    setNumPage = _useState30[1];\n  var _useState31 = useState(false),\n    _useState32 = _slicedToArray(_useState31, 2),\n    fontsLoaded = _useState32[0],\n    setFontsLoaded = _useState32[1];\n  useEffect(function () {\n    loadFonts().then(function () {\n      setFontsLoaded(true);\n      loadUserList();\n    });\n  }, []);\n  var titleFont = Platform.select({\n    ios: 'Rafaella',\n    android: 'Rafaella'\n  });\n  var bodyFont = Platform.select({\n    ios: 'SFNS',\n    android: 'SFNS'\n  });\n  useFocusEffect(React.useCallback(function () {\n    console.log(\"Iniciamos feed\");\n    var fetchData = function () {\n      var _ref = _asyncToGenerator(function* () {\n        var userId = yield SessionService.getCurrentUser();\n        if (userId) {\n          try {\n            var response = yield CRUDService.getUser(userId);\n            console.log(\"Punto 1:\", response);\n            console.log(response == null ? void 0 : response.data);\n            setCurrentUser(response == null ? void 0 : response.data);\n            PublicationService.feed(numPagePublication.toString(), userId).then(function (response) {\n              console.log(response);\n              console.log(response.data);\n              console.log(\"userId\", userId);\n              var initialVisibility = response.data.reduce(function (acc, publication) {\n                acc[publication.uuid] = false;\n                return acc;\n              }, {});\n              setCommentsVisibility(function (prevVisibility) {\n                var updatedVisibility = Object.assign({}, prevVisibility, initialVisibility);\n                return updatedVisibility;\n              });\n              var initialPage = response.data.reduce(function (acc, publication) {\n                acc[publication.uuid] = 1;\n                return acc;\n              }, {});\n              setPageComments(function (prevPageComments) {\n                var updatedPageComments = Object.assign({}, prevPageComments, initialPage);\n                return updatedPageComments;\n              });\n              var initialCommentButton = response.data.reduce(function (acc, publication) {\n                acc[publication.uuid] = \"Show Comments\";\n                return acc;\n              }, {});\n              setCommentButton(function (prevCommentButton) {\n                var updatedCommentButton = Object.assign({}, prevCommentButton, initialCommentButton);\n                return updatedCommentButton;\n              });\n              var initialListComments = response.data.reduce(function (acc, publication) {\n                acc[publication.uuid] = [];\n                return acc;\n              }, {});\n              setListCommentsPublication(function (prevListCommentsPublication) {\n                var updatedListCommentsPublication = Object.assign({}, prevListCommentsPublication, initialListComments);\n                return updatedListCommentsPublication;\n              });\n              var initialCommentText = response.data.reduce(function (acc, publication) {\n                acc[publication.uuid] = \"\";\n                return acc;\n              }, {});\n              setCommentText(function (prevCommentButton) {\n                var updatedCommentText = Object.assign({}, prevCommentButton, initialCommentText);\n                return updatedCommentText;\n              });\n              var initialShowLikes = response.data.reduce(function (acc, publication) {\n                var _publication$likesPub;\n                var hasLiked = ((_publication$likesPub = publication.likesPublication) == null ? void 0 : _publication$likesPub.includes(userId)) || false;\n                acc[publication.uuid] = hasLiked;\n                return acc;\n              }, {});\n              setHasLiked(function (prevHasLiked) {\n                var updatedHasLiked = Object.assign({}, prevHasLiked, initialShowLikes);\n                return updatedHasLiked;\n              });\n              setListPublications(function (prevPublications) {\n                return [].concat(_toConsumableArray(prevPublications), _toConsumableArray(response.data));\n              });\n            }).catch(function (error) {\n              navigation.navigate('NotFoundScreen');\n              console.log(error);\n            });\n            PublicationService.numPublicationsFollowing(userId).then(function (response) {\n              console.log(response);\n              console.log(response.data);\n              setNumPublications(response.data);\n            });\n          } catch (error) {\n            console.log(\"Encontre el id pero no va\");\n          }\n        }\n      });\n      return function fetchData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    console.log(recargar);\n    if (isFocused) {\n      if (recargar == \"Inicio\" || recargar == \"More Publications\") {\n        console.log(numPagePublication);\n        fetchData();\n      } else if (recargar == \"New Comment\" || recargar == \"Delete Like\" || recargar == \"Update Like\") {\n        console.log(reloadPublication);\n        PublicationService.onePublication(reloadPublication).then(function (response) {\n          console.log(response.data);\n          var index = listPublications.findIndex(function (publication) {\n            return publication.uuid === reloadPublication;\n          });\n          if (index >= 0) {\n            listPublications.splice(index, 1, response.data);\n            setListPublications(_toConsumableArray(listPublications));\n          }\n        }).catch(function (error) {\n          navigation.navigate('NotFoundScreen');\n          console.log(error);\n        });\n      }\n    } else {\n      setCurrentUser(null);\n      setListPublications([]);\n      setNumPagePublication(1);\n      setCommentsVisibility({});\n      setPageComments({});\n      setCommentButton({});\n      setListCommentsPublication({});\n      setShowCommentForm({});\n      setCommentText({});\n      setRecargar('Inicio');\n      setNumPublications(0);\n      setHasLiked({});\n      setReloadPublication('');\n    }\n  }, [isFocused, recargar]));\n  var handleGoToScreenUser = function handleGoToScreenUser(uuid) {\n    navigation.navigate(\"UserScreen\", {\n      uuid: uuid\n    });\n    setRecargar(\"No Recargues\");\n  };\n  var handleLoadMore = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      console.log(\"Has pulsado el btn\");\n      setRecargar(\"More Publications\");\n      setNumPagePublication(function (prevPage) {\n        return prevPage + 1;\n      });\n    });\n    return function handleLoadMore() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var getComments = function getComments(idPublication) {\n    console.log(\"Ver comentarios\");\n    console.log(\"idPublication: \" + idPublication);\n    console.log(\"commentsVisibility[PublicationId]=\" + commentsVisibility[idPublication]);\n    console.log(\"pageComments[PublicationId]=\" + pageComments[idPublication]);\n    setCommentsVisibility(function (prevVisibility) {\n      var updatedVisibility = _objectSpread(_objectSpread({}, prevVisibility), {}, _defineProperty({}, idPublication, !prevVisibility[idPublication]));\n      console.log(\"second \" + updatedVisibility[idPublication]);\n      if (updatedVisibility[idPublication]) {\n        setCommentButton(function (prevCommentButton) {\n          return _objectSpread(_objectSpread({}, prevCommentButton), {}, _defineProperty({}, idPublication, prevCommentButton[idPublication] = \"Hide Comments\"));\n        });\n        console.log(\"Entro a hide\");\n        CommentService.getCommentsPublication(idPublication, pageComments[idPublication].toString()).then(function (response) {\n          console.log(response);\n          console.log(response.data);\n          setListCommentsPublication(function (prevListComments) {\n            return _objectSpread(_objectSpread({}, prevListComments), {}, _defineProperty({}, idPublication, response.data));\n          });\n        }).catch(function (error) {\n          navigation.navigate('NotFoundScreen');\n        });\n      } else {\n        setCommentButton(function (prevCommentButton) {\n          return _objectSpread(_objectSpread({}, prevCommentButton), {}, _defineProperty({}, idPublication, prevCommentButton[idPublication] = \"Show Comments\"));\n        });\n        console.log(\"Entro a show\");\n        setListCommentsPublication(function (prevListComments) {\n          return _objectSpread(_objectSpread({}, prevListComments), {}, _defineProperty({}, idPublication, []));\n        });\n        setPageComments(function (prevPageComments) {\n          return _objectSpread(_objectSpread({}, prevPageComments), {}, _defineProperty({}, idPublication, prevPageComments[idPublication] = 1));\n        });\n      }\n      return updatedVisibility;\n    });\n    console.log(\"Page comentarios:\" + pageComments[idPublication]);\n  };\n  var showMoreComments = function showMoreComments(idPublication) {\n    console.log(\"Ver más comentarios\");\n    setPageComments(function (prevPageComments) {\n      return _objectSpread(_objectSpread({}, prevPageComments), {}, _defineProperty({}, idPublication, prevPageComments[idPublication] + 1));\n    });\n    CommentService.getCommentsPublication(idPublication, (pageComments[idPublication] + 1).toString()).then(function (response) {\n      console.log(response);\n      console.log(response.data);\n      setListCommentsPublication(function (prevListComments) {\n        return _objectSpread(_objectSpread({}, prevListComments), {}, _defineProperty({}, idPublication, [].concat(_toConsumableArray(prevListComments[idPublication]), _toConsumableArray(response.data))));\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n  var handleToggleCommentForm = function handleToggleCommentForm(idPublication) {\n    setShowCommentForm(function (prevShowComments) {\n      return _objectSpread(_objectSpread({}, prevShowComments), {}, _defineProperty({}, idPublication, !prevShowComments[idPublication]));\n    });\n  };\n  var handleInputChange = function handleInputChange(event, idPublication) {\n    setCommentText(function (prevCommentText) {\n      return _objectSpread(_objectSpread({}, prevCommentText), {}, _defineProperty({}, idPublication, prevCommentText[idPublication] = event));\n    });\n  };\n  var handleSubmit = function () {\n    var _ref3 = _asyncToGenerator(function* (event, idPublication) {\n      event.preventDefault();\n      var userId = yield SessionService.getCurrentUser();\n      if (userId) {\n        var comment = {\n          idUserComment: userId,\n          idPublicationComment: idPublication,\n          textComment: commentText[idPublication]\n        };\n        CommentService.createComment(comment).then(function (response) {\n          console.log(response);\n          console.log(response.data);\n          setReloadPublication(idPublication);\n          setRecargar(\"New Comment\");\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n      setCommentText(function (prevCommentText) {\n        return _objectSpread(_objectSpread({}, prevCommentText), {}, _defineProperty({}, idPublication, prevCommentText[idPublication] = \"\"));\n      });\n    });\n    return function handleSubmit(_x, _x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleLike = function () {\n    var _ref4 = _asyncToGenerator(function* (idPublication) {\n      console.log(\"Handle Like\" + idPublication);\n      console.log(\"Handle Like\" + hasLiked[idPublication]);\n      var userId = yield SessionService.getCurrentUser();\n      if (userId) {\n        if (hasLiked[idPublication]) {\n          setHasLiked(function (prevLikes) {\n            return _objectSpread(_objectSpread({}, prevLikes), {}, _defineProperty({}, idPublication, !prevLikes[idPublication]));\n          });\n          console.log(\"Handle Like True: \" + hasLiked[idPublication]);\n          PublicationService.deleteLike(idPublication, userId).then(function (response) {\n            console.log(response);\n            console.log(response.data);\n            setReloadPublication(idPublication);\n            setRecargar(\"Delete Like\");\n            console.log(\"Se ha recargado\");\n          }).catch(function (error) {\n            navigation.navigate(\"NotFoundScreen\");\n          });\n        } else {\n          setHasLiked(function (prevLikes) {\n            return _objectSpread(_objectSpread({}, prevLikes), {}, _defineProperty({}, idPublication, !prevLikes[idPublication]));\n          });\n          console.log(\"Handle Like False: \" + hasLiked[idPublication]);\n          PublicationService.updateLike(idPublication, userId).then(function (response) {\n            console.log(response);\n            console.log(response.data);\n            setReloadPublication(idPublication);\n            setRecargar(\"Update Like\");\n            console.log(\"Se ha recargado\");\n          }).catch(function (error) {\n            navigation.navigate(\"NotFoundScreen\");\n          });\n        }\n      }\n    });\n    return function handleLike(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var loadUserList = function () {\n    var _ref5 = _asyncToGenerator(function* () {\n      var userId = yield SessionService.getCurrentUser();\n      if (userId) {\n        try {\n          CRUDService.getFollowed(userId, numPage.toString()).then(function (response) {\n            setUserList((response == null ? void 0 : response.data) || []);\n          }).catch(function (error) {\n            console.log(\"Error al obtener los usuarios a los que seguimos: \" + error);\n          });\n        } catch (_unused) {\n          console.log(\"Error al obtener los usuarios a los que seguimos.\");\n        }\n      }\n    });\n    return function loadUserList() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    loadUserList();\n  }, [numPage]);\n  var handlePageDecrease = function handlePageDecrease() {\n    if (numPage > 1) {\n      setNumPage(function (prevNumPage) {\n        return prevNumPage - 1;\n      });\n    }\n  };\n  var handlePageIncrease = function () {\n    var _ref6 = _asyncToGenerator(function* () {\n      if (currentUser != null && currentUser.followedUser != null) {\n        if (numPage < currentUser.followedUser.length / 2) {\n          setNumPage(function (prevNumPage) {\n            return prevNumPage + 1;\n          });\n        }\n      }\n    });\n    return function handlePageIncrease() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  var styles = StyleSheet.create({\n    feed: {\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    iconsLayout: {\n      flexDirection: 'row',\n      marginRight: 0,\n      marginLeft: 0,\n      marginTop: 0,\n      marginBottom: 0\n    },\n    headerContainer: {\n      flexDirection: 'row',\n      marginLeft: 10,\n      marginTop: 0,\n      marginRight: 10,\n      marginBottom: 0,\n      alignItems: 'center',\n      justifyContent: 'center',\n      height: 80\n    },\n    limitedContainer: {\n      marginTop: 0\n    },\n    post: {\n      flex: 1,\n      flexGrow: 1,\n      height: '100%',\n      flexDirection: 'column',\n      width: 340,\n      justifyContent: 'flex-start',\n      borderRadius: 20,\n      borderWidth: 1,\n      marginBottom: 6\n    },\n    userLink: {\n      alignItems: 'center',\n      padding: 10\n    },\n    backgroundImage: {\n      flex: 1,\n      resizeMode: 'cover'\n    },\n    postHeader: {\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center',\n      fontFamily: bodyFont,\n      justifyContent: 'flex-start',\n      marginTop: 0,\n      marginBottom: 0\n    },\n    postProfileImg: {\n      width: 50,\n      height: 50,\n      resizeMode: 'cover',\n      marginRight: 10,\n      borderRadius: 50\n    },\n    postProfileStories: {\n      width: 50,\n      height: 50,\n      resizeMode: 'cover',\n      marginRight: 10,\n      marginLeft: 10,\n      borderRadius: 50\n    },\n    postInfo: {\n      flex: 1,\n      fontFamily: bodyFont,\n      textAlign: 'left'\n    },\n    postUsernameHeader: {\n      fontSize: 22,\n      fontWeight: 'bold',\n      marginBottom: 0,\n      fontFamily: bodyFont,\n      marginTop: 0,\n      marginLeft: 0,\n      color: '#66fcf1'\n    },\n    postTimestampHeader: {\n      fontSize: 14,\n      color: '#fff',\n      marginLeft: 0,\n      fontFamily: bodyFont,\n      marginTop: 0\n    },\n    postBody: {\n      alignItems: 'center',\n      padding: 10\n    },\n    postImage: {\n      alignItems: 'center',\n      padding: 0,\n      marginTop: -8,\n      width: 320,\n      height: 320,\n      borderRadius: 20\n    },\n    postText: {\n      textAlign: 'left',\n      fontSize: 22,\n      color: '#fff',\n      fontFamily: bodyFont,\n      marginTop: 2,\n      marginBottom: 6,\n      marginLeft: 10\n    },\n    heartMessageLayout: {\n      textAlign: 'left',\n      fontSize: 22,\n      color: '#000',\n      flexDirection: 'row',\n      fontFamily: bodyFont,\n      marginTop: 0,\n      marginBottom: 6,\n      marginLeft: 8\n    },\n    numberOfLikesPost: {\n      fontFamily: bodyFont,\n      fontSize: 16,\n      marginLeft: 10,\n      color: '#ffffff'\n    },\n    postComments: {\n      display: 'flex',\n      flexDirection: 'column',\n      fontFamily: bodyFont,\n      height: 'flex',\n      justifyContent: 'flex-start',\n      marginTop: 0,\n      marginBottom: 10\n    },\n    showHide: {\n      marginTop: -6,\n      marginBottom: 4,\n      padding: 6,\n      fontFamily: bodyFont,\n      borderWidth: 0,\n      textAlign: \"center\",\n      alignSelf: \"center\"\n    },\n    showHideText: {\n      fontFamily: bodyFont,\n      fontSize: 16,\n      color: '#66fcf1'\n    },\n    showHideTextNumber: {\n      fontFamily: bodyFont,\n      fontSize: 16,\n      color: 'yellow'\n    },\n    inputComment: {\n      borderWidth: 0,\n      height: 70,\n      width: 200,\n      flex: 1,\n      alignContent: 'center',\n      fontFamily: bodyFont\n    },\n    buttonSendComment: {},\n    textButtonSend: {\n      fontFamily: bodyFont,\n      fontSize: 16,\n      color: '#66fcf1',\n      marginTop: 8,\n      textAlign: \"center\",\n      marginRight: 4\n    },\n    ButtonSend: {\n      fontFamily: bodyFont,\n      fontSize: 16,\n      color: 'yellow',\n      marginTop: 8,\n      textAlign: \"center\"\n    },\n    commentContainer: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      flex: 1,\n      justifyContent: \"flex-start\",\n      marginTop: 0,\n      marginBottom: 10\n    },\n    userComment: {\n      display: \"flex\",\n      fontFamily: bodyFont,\n      justifyContent: \"flex-start\",\n      borderWidth: 0,\n      marginTop: -6\n    },\n    commentProfileImg: {},\n    userInfo: {},\n    userName: {\n      borderWidth: 0,\n      fontFamily: bodyFont,\n      color: \"yellow\",\n      fontSize: 16,\n      marginBottom: 0,\n      marginLeft: 10\n    },\n    commentText: {\n      fontSize: 14,\n      marginTop: 0,\n      fontFamily: bodyFont,\n      marginBottom: 0,\n      color: \"#ffffff\",\n      marginLeft: 10\n    },\n    showMoreCommentsButton: {\n      marginTop: 2,\n      marginBottom: 14,\n      borderWidth: 0,\n      textAlign: \"center\",\n      alignSelf: \"center\"\n    },\n    showMoreCommentsButtonIcon: {\n      color: \"#66fcf1\"\n    },\n    showMoreCommentsButtonDisabled: {\n      margin: 18,\n      marginTop: 0,\n      marginBottom: 46,\n      padding: 6,\n      backgroundColor: \"#66fcf27e\",\n      borderWidth: 0,\n      borderRadius: 20,\n      width: 100,\n      textAlign: \"center\",\n      alignSelf: \"center\",\n      cursor: \"not-allowed\"\n    },\n    loadMoreButton: {\n      margin: 6,\n      padding: 6,\n      backgroundColor: \"#66fcf1\",\n      borderRadius: 20,\n      width: 100,\n      height: 36,\n      justifyContent: 'center',\n      alignSelf: \"center\",\n      marginBottom: 96\n    },\n    loadMoreButtonText: {\n      textAlign: 'center',\n      fontFamily: bodyFont,\n      fontSize: 16,\n      color: '#000',\n      marginTop: 0,\n      marginBottom: 0\n    },\n    input: {\n      width: 320,\n      height: 36,\n      marginLeft: 10,\n      marginTop: 0\n    },\n    sendLayout: {\n      flexDirection: 'row',\n      justifyContent: 'center',\n      alignSelf: \"center\"\n    },\n    nextBackButton: {\n      padding: 6,\n      backgroundColor: \"transparent\",\n      borderRadius: 20,\n      width: 36,\n      height: 36,\n      justifyContent: 'center',\n      alignSelf: \"center\",\n      marginBottom: 0,\n      textAlign: 'center',\n      fontFamily: bodyFont,\n      fontSize: 16,\n      marginTop: 0,\n      alignItems: 'center',\n      marginLeft: 16,\n      marginRight: 16\n    }\n  });\n  return _jsxs(ImageBackground, {\n    source: require(\"../../../../assets/visualcontent/background_8.png\"),\n    style: styles.backgroundImage,\n    children: [_jsxs(View, {\n      style: styles.headerContainer,\n      children: [_jsx(TouchableOpacity, {\n        onPress: handlePageDecrease,\n        style: styles.nextBackButton,\n        children: _jsx(MaterialCommunityIcons, {\n          color: \"#66fcf1\",\n          name: \"arrow-left\",\n          size: 24\n        })\n      }), userList.map(function (user) {\n        return _jsx(View, {\n          style: styles.iconsLayout,\n          children: _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return handleGoToScreenUser(user.uuid);\n            },\n            style: styles.userLink,\n            children: _jsx(View, {\n              style: styles.postHeader,\n              children: _jsx(Image, {\n                source: {\n                  uri: user.photoUser\n                },\n                style: styles.postProfileStories,\n                resizeMode: \"cover\"\n              })\n            })\n          })\n        }, user.uuid);\n      }), _jsx(TouchableOpacity, {\n        onPress: handlePageIncrease,\n        style: styles.nextBackButton,\n        children: _jsx(MaterialCommunityIcons, {\n          color: \"#66fcf1\",\n          name: \"arrow-right\",\n          size: 24\n        })\n      })]\n    }), _jsx(View, {\n      style: styles.limitedContainer,\n      children: _jsx(ScrollView, {\n        children: _jsxs(View, {\n          children: [_jsx(View, {\n            style: styles.feed,\n            children: listPublications.map(function (publication) {\n              var _publication$likesPub2, _publication$comments, _pageComments$publica;\n              return _jsxs(View, {\n                style: styles.post,\n                children: [_jsx(TouchableOpacity, {\n                  onPress: function onPress() {\n                    return handleGoToScreenUser(publication.idUser.uuid);\n                  },\n                  style: styles.userLink,\n                  children: _jsxs(View, {\n                    style: styles.postHeader,\n                    children: [_jsx(Image, {\n                      source: {\n                        uri: publication.idUser.photoUser\n                      },\n                      style: styles.postProfileImg,\n                      resizeMode: \"cover\"\n                    }), _jsxs(View, {\n                      style: styles.postInfo,\n                      children: [_jsx(Text, {\n                        style: styles.postUsernameHeader,\n                        children: publication.idUser.appUser\n                      }), _jsx(Text, {\n                        style: styles.postTimestampHeader,\n                        children: new Date(publication.createdAt).toLocaleString()\n                      })]\n                    })]\n                  })\n                }), _jsx(View, {\n                  style: styles.postBody,\n                  children: publication.photoPublication.map(function (photo) {\n                    return _jsx(Image, {\n                      source: {\n                        uri: photo\n                      },\n                      style: styles.postImage,\n                      resizeMode: \"cover\"\n                    }, photo);\n                  })\n                }), _jsxs(View, {\n                  style: styles.heartMessageLayout,\n                  children: [_jsx(TouchableOpacity, {\n                    onPress: function onPress() {\n                      handleLike(publication.uuid.toString());\n                    },\n                    children: _jsx(MaterialCommunityIcons, {\n                      name: \"heart\",\n                      size: 28,\n                      color: \"#fb3958\"\n                    })\n                  }), _jsx(TouchableOpacity, {\n                    onPress: function onPress() {\n                      navigation.navigate(\"UsersList\", {\n                        userId: publication.uuid,\n                        mode: \"likes\"\n                      });\n                    },\n                    children: _jsx(Text, {\n                      style: styles.numberOfLikesPost,\n                      children: (_publication$likesPub2 = publication.likesPublication) == null ? void 0 : _publication$likesPub2.length\n                    })\n                  }), _jsx(TouchableOpacity, {\n                    onPress: function onPress() {\n                      handleToggleCommentForm(publication.uuid.toString());\n                    },\n                    children: _jsx(MaterialCommunityIcons, {\n                      style: {\n                        marginLeft: 4\n                      },\n                      name: \"comment\",\n                      size: 28,\n                      color: \"#66fcf1\"\n                    })\n                  })]\n                }), _jsx(Text, {\n                  style: styles.postText,\n                  children: publication.textPublication\n                }), _jsxs(View, {\n                  style: styles.commentContainer,\n                  children: [_jsx(TouchableOpacity, {\n                    style: styles.showHide,\n                    onPress: function onPress() {\n                      getComments(publication.uuid.toString());\n                    },\n                    children: _jsxs(Text, {\n                      style: styles.showHideText,\n                      children: [commentsVisibility[publication.uuid], \" \", commentButton[publication.uuid], \" \", _jsx(Text, {\n                        style: styles.showHideTextNumber,\n                        children: (_publication$comments = publication.commentsPublication) == null ? void 0 : _publication$comments.length\n                      })]\n                    })\n                  }), showCommentForm[publication.uuid] && _jsxs(View, {\n                    children: [_jsx(StyledTextInputs, {\n                      style: styles.input,\n                      placeholder: \"Write a Comment\",\n                      value: commentText[publication.uuid],\n                      onChangeText: function onChangeText(event) {\n                        return handleInputChange(event, publication.uuid.toString());\n                      }\n                    }), _jsx(TouchableOpacity, {\n                      style: styles.buttonSendComment,\n                      onPress: function onPress(event) {\n                        return handleSubmit(event, publication.uuid.toString());\n                      },\n                      children: _jsxs(View, {\n                        style: styles.sendLayout,\n                        children: [_jsx(Text, {\n                          style: styles.textButtonSend,\n                          children: \" Send\"\n                        }), _jsx(MaterialCommunityIcons, {\n                          style: styles.ButtonSend,\n                          name: \"send\",\n                          size: 20\n                        })]\n                      })\n                    })]\n                  })]\n                }), commentsVisibility[publication.uuid] && _jsxs(View, {\n                  children: [listCommentsPublication[publication.uuid].map(function (comment) {\n                    return _jsx(TouchableOpacity, {\n                      onPress: function onPress() {\n                        return handleGoToScreenUser(comment.idUserComment.uuid);\n                      },\n                      style: styles.commentContainer,\n                      children: _jsxs(View, {\n                        style: styles.userComment,\n                        children: [comment.idUserComment.photoUser ? _jsx(Image, {\n                          source: {\n                            uri: comment.idUserComment.photoUser\n                          },\n                          style: styles.commentProfileImg\n                        }) : _jsx(Image, {\n                          source: {\n                            uri: \"https://pbs.twimg.com/profile_images/1354463303486025733/Bn-iEeUO_400x400.jpg\"\n                          },\n                          style: styles.commentProfileImg\n                        }), _jsxs(View, {\n                          style: styles.userInfo,\n                          children: [_jsxs(Text, {\n                            style: styles.userName,\n                            children: [\"@\", comment.idUserComment.appUser]\n                          }), _jsx(Text, {\n                            style: styles.commentText,\n                            children: comment.textComment\n                          })]\n                        })]\n                      })\n                    }, comment.uuid);\n                  }), publication.commentsPublication && publication.commentsPublication.length > ((_pageComments$publica = pageComments[publication == null ? void 0 : publication.uuid]) != null ? _pageComments$publica : 0) * 2 ? _jsx(TouchableOpacity, {\n                    style: styles.showMoreCommentsButton,\n                    onPress: function onPress() {\n                      showMoreComments(publication.uuid);\n                    },\n                    children: _jsx(MaterialCommunityIcons, {\n                      style: styles.showMoreCommentsButtonIcon,\n                      name: \"plus\",\n                      size: 16\n                    })\n                  }) : _jsx(Text, {})]\n                })]\n              }, publication.uuid);\n            })\n          }), _jsx(View, {\n            children: numPublications > numPagePublication * 3 && _jsx(TouchableOpacity, {\n              style: styles.loadMoreButton,\n              onPress: handleLoadMore,\n              children: _jsx(Text, {\n                style: styles.loadMoreButtonText,\n                children: \"Load More\"\n              })\n            })\n          })]\n        })\n      })\n    })]\n  });\n}\n;","map":{"version":3,"names":["useEffect","useState","ScrollView","View","Text","TouchableOpacity","Image","StyleSheet","ImageBackground","Platform","SessionService","PublicationService","useFocusEffect","useIsFocused","useNavigation","CRUDService","React","CommentService","StyledTextInputs","MaterialCommunityIcons","Font","jsx","_jsx","jsxs","_jsxs","loadFonts","_loadFonts","apply","arguments","_asyncToGenerator","loadAsync","require","FeedScreen","navigation","_useState","_useState2","_slicedToArray","currentUser","setCurrentUser","_useState3","_useState4","listPublications","setListPublications","_useState5","_useState6","numPagePublication","setNumPagePublication","_useState7","_useState8","commentsVisibility","setCommentsVisibility","_useState9","_useState10","pageComments","setPageComments","_useState11","_useState12","commentButton","setCommentButton","_useState13","_useState14","listCommentsPublication","setListCommentsPublication","_useState15","_useState16","showCommentForm","setShowCommentForm","_useState17","_useState18","commentText","setCommentText","_useState19","_useState20","recargar","setRecargar","_useState21","_useState22","numPublications","setNumPublications","_useState23","_useState24","hasLiked","setHasLiked","_useState25","_useState26","reloadPublication","setReloadPublication","isFocused","_useState27","_useState28","userList","setUserList","_useState29","_useState30","numPage","setNumPage","_useState31","_useState32","fontsLoaded","setFontsLoaded","then","loadUserList","titleFont","select","ios","android","bodyFont","useCallback","console","log","fetchData","_ref","userId","getCurrentUser","response","getUser","data","feed","toString","initialVisibility","reduce","acc","publication","uuid","prevVisibility","updatedVisibility","Object","assign","initialPage","prevPageComments","updatedPageComments","initialCommentButton","prevCommentButton","updatedCommentButton","initialListComments","prevListCommentsPublication","updatedListCommentsPublication","initialCommentText","updatedCommentText","initialShowLikes","_publication$likesPub","likesPublication","includes","prevHasLiked","updatedHasLiked","prevPublications","concat","_toConsumableArray","catch","error","navigate","numPublicationsFollowing","onePublication","index","findIndex","splice","handleGoToScreenUser","handleLoadMore","_ref2","prevPage","getComments","idPublication","_objectSpread","_defineProperty","getCommentsPublication","prevListComments","showMoreComments","handleToggleCommentForm","prevShowComments","handleInputChange","event","prevCommentText","handleSubmit","_ref3","preventDefault","comment","idUserComment","idPublicationComment","textComment","createComment","_x","_x2","handleLike","_ref4","prevLikes","deleteLike","updateLike","_x3","_ref5","getFollowed","_unused","handlePageDecrease","prevNumPage","handlePageIncrease","_ref6","followedUser","length","styles","create","flexDirection","alignItems","iconsLayout","marginRight","marginLeft","marginTop","marginBottom","headerContainer","justifyContent","height","limitedContainer","post","flex","flexGrow","width","borderRadius","borderWidth","userLink","padding","backgroundImage","resizeMode","postHeader","display","fontFamily","postProfileImg","postProfileStories","postInfo","textAlign","postUsernameHeader","fontSize","fontWeight","color","postTimestampHeader","postBody","postImage","postText","heartMessageLayout","numberOfLikesPost","postComments","showHide","alignSelf","showHideText","showHideTextNumber","inputComment","alignContent","buttonSendComment","textButtonSend","ButtonSend","commentContainer","userComment","commentProfileImg","userInfo","userName","showMoreCommentsButton","showMoreCommentsButtonIcon","showMoreCommentsButtonDisabled","margin","backgroundColor","cursor","loadMoreButton","loadMoreButtonText","input","sendLayout","nextBackButton","source","style","children","onPress","name","size","map","user","uri","photoUser","_publication$likesPub2","_publication$comments","_pageComments$publica","idUser","appUser","Date","createdAt","toLocaleString","photoPublication","photo","mode","textPublication","commentsPublication","placeholder","value","onChangeText"],"sources":["C:/Users/eloim/Uni/ProyectoEA/Frontend_/FrontEnd_EA_App/src/infrastructure/UI/screens/feed.screen.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { ScrollView, View, Text, TouchableOpacity, Image, StyleSheet, TextInput, ImageBackground, Platform } from \"react-native\";\r\nimport { Publication, PublicationEntity } from \"../../../domain/publication/publication.entity\";\r\nimport { SessionService } from \"../../services/user/session.service\";\r\nimport { PublicationService } from \"../../services/publication/publication.service\";\r\nimport { useFocusEffect, useIsFocused, useNavigation } from \"@react-navigation/native\";\r\nimport { UserEntity } from \"../../../domain/user/user.entity\";\r\nimport { CRUDService } from \"../../services/user/CRUD.service\";\r\nimport React from \"react\";\r\nimport { CommentService } from \"../../services/comment/comment.service\";\r\nimport { CommentEntity } from \"../../../domain/comment/comment.entity\";\r\nimport StyledTextInputs from \"../components/inputs/StyledTextInputs\";\r\nimport MaterialCommunityIcons from 'react-native-vector-icons/MaterialCommunityIcons';\r\nimport * as Font from 'expo-font';\r\n\r\n\r\nasync function loadFonts() {\r\n  await Font.loadAsync({\r\n    'Rafaella': require('../../../../assets/fonts/Rafaella.ttf'),\r\n    'SFNS': require('../../../../assets/fonts/SFNS.otf'),\r\n  });\r\n}\r\n\r\nexport default function FeedScreen() {\r\n  const navigation = useNavigation();\r\n  const [currentUser, setCurrentUser] = useState<UserEntity | null>(null);\r\n  const [listPublications, setListPublications] = useState<Publication[]>([]);\r\n  const [numPagePublication, setNumPagePublication] = useState<number>(1);\r\n  const [commentsVisibility, setCommentsVisibility] = useState<{[key: string]: boolean; }>({});\r\n  const [pageComments, setPageComments] = useState<{ [key: string]: number }>({});\r\n  const [commentButton, setCommentButton] = useState<{ [key: string]: string }>({});\r\n  const [listCommentsPublication, setListCommentsPublication] = useState<{ [key: string]: CommentEntity[] }>({});\r\n  const [showCommentForm, setShowCommentForm] = useState<{[key: string]: boolean; }>({});\r\n  const [commentText, setCommentText] = useState<{ [key: string]: string }>({});\r\n  const [recargar, setRecargar] = useState<string>('Inicio');\r\n  const [numPublications, setNumPublications] = useState<number>(0);\r\n  const [hasLiked, setHasLiked] = useState<{[key: string]: boolean; }>({});\r\n  const [reloadPublication, setReloadPublication] = useState<string>('');\r\n  const isFocused = useIsFocused();\r\n\r\n  // STORIES\r\n  const [userList, setUserList] = useState<UserEntity[]>([]);\r\n  const [numPage, setNumPage] = useState(1);\r\n\r\n  const [fontsLoaded, setFontsLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadFonts().then(() => {\r\n      setFontsLoaded(true);\r\n      loadUserList();\r\n    });\r\n  }, []);\r\n\r\n  const titleFont = Platform.select({\r\n    ios: 'Rafaella',\r\n    android: 'Rafaella',\r\n  });\r\n  const bodyFont = Platform.select({\r\n    ios: 'SFNS',\r\n    android: 'SFNS',\r\n  });\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      console.log(\"Iniciamos feed\");\r\n      const fetchData = async () => {\r\n        const userId = await SessionService.getCurrentUser();\r\n        if (userId) {\r\n          try {\r\n            const response = await CRUDService.getUser(userId);\r\n            console.log(\"Punto 1:\", response);\r\n            console.log(response?.data);\r\n            setCurrentUser(response?.data);\r\n  \r\n            PublicationService.feed(numPagePublication.toString(), userId)\r\n              .then((response) => {\r\n                console.log(response);\r\n                console.log(response.data);\r\n                console.log(\"userId\", userId);\r\n  \r\n                const initialVisibility = response.data.reduce(\r\n                  (acc: { [key: string]: boolean }, publication: Publication) => {\r\n                    acc[publication.uuid] = false;\r\n                    return acc;\r\n                  },\r\n                  {}\r\n                );\r\n                //setCommentsVisibility(initialVisibility);\r\n                //setCommentsVisibility((prevVisibility) => ({...prevVisibility, initialVisibility}));\r\n                setCommentsVisibility(prevVisibility => {\r\n                  const updatedVisibility = Object.assign({}, prevVisibility, initialVisibility);\r\n                  return updatedVisibility;\r\n                });\r\n\r\n  \r\n                const initialPage = response.data.reduce(\r\n                  (acc: { [key: string]: number }, publication: Publication) => {\r\n                    acc[publication.uuid] = 1;\r\n                    return acc;\r\n                  },\r\n                  {}\r\n                );\r\n                //setPageComments(initialPage);\r\n                //setPageComments((prevPageComments) => ({...prevPageComments,initialPage}));\r\n                setPageComments(prevPageComments => {\r\n                  const updatedPageComments = Object.assign({}, prevPageComments, initialPage);\r\n                  return updatedPageComments;\r\n                });\r\n  \r\n                const initialCommentButton = response.data.reduce(\r\n                  (acc: { [key: string]: string }, publication: Publication) => {\r\n                    acc[publication.uuid] = \"Show Comments\";\r\n                    return acc;\r\n                  },\r\n                  {}\r\n                );\r\n                //setCommentButton(initialCommentButton);\r\n                //setCommentButton((prevCommentButton) => ({...prevCommentButton,initialCommentButton}));\r\n                setCommentButton(prevCommentButton => {\r\n                  const updatedCommentButton = Object.assign({}, prevCommentButton, initialCommentButton);\r\n                  return updatedCommentButton;\r\n                });\r\n  \r\n                const initialListComments = response.data.reduce(\r\n                  (acc: { [key: string]: Comment[] }, publication: Publication) => {\r\n                    acc[publication.uuid] = [];\r\n                    return acc;\r\n                  },\r\n                  {}\r\n                );\r\n                //setListCommentsPublication(initialListComments);\r\n                //setListCommentsPublication((prevListCommentsPublication) => ({...prevListCommentsPublication,initialListComments}));\r\n                setListCommentsPublication(prevListCommentsPublication => {\r\n                  const updatedListCommentsPublication = Object.assign({}, prevListCommentsPublication, initialListComments);\r\n                  return updatedListCommentsPublication;\r\n                });\r\n\r\n                const initialCommentText= response.data.reduce(\r\n                  (acc: { [key: string]: string }, publication: Publication) => {\r\n                    acc[publication.uuid] = \"\";\r\n                    return acc;\r\n                  },\r\n                  {}\r\n                );\r\n                //setCommentText(initialCommentText);\r\n                //setCommentText((prevCommentButton) => ({...prevCommentButton,initialCommentText}));\r\n                setCommentText(prevCommentButton => {\r\n                  const updatedCommentText = Object.assign({}, prevCommentButton, initialCommentText);\r\n                  return updatedCommentText;\r\n                });\r\n\r\n                const initialShowLikes = response.data.reduce(\r\n                  (acc: { [key: string]: boolean }, publication: Publication) => {\r\n                    const hasLiked = publication.likesPublication?.includes(userId) || false;\r\n                    acc[publication.uuid] = hasLiked;\r\n                    return acc;\r\n                  },\r\n                  {}\r\n                );\r\n                //setHasLiked(initialShowLikes);\r\n                //setHasLiked((prevHasLiked) => ({...prevHasLiked,initialShowLikes}));\r\n                setHasLiked(prevHasLiked => {\r\n                  const updatedHasLiked = Object.assign({}, prevHasLiked, initialShowLikes);\r\n                  return updatedHasLiked;\r\n                });\r\n                \r\n  \r\n                setListPublications(prevPublications => [...prevPublications, ...response.data]);\r\n              })\r\n              .catch(error => {\r\n                navigation.navigate('NotFoundScreen' as never);\r\n                console.log(error)\r\n              });\r\n              PublicationService.numPublicationsFollowing(userId)\r\n              .then((response) => {\r\n                console.log(response);\r\n                console.log(response.data);\r\n                setNumPublications(response.data);\r\n              })\r\n          } catch (error) {\r\n            console.log(\"Encontre el id pero no va\");\r\n          }\r\n        }\r\n      };\r\n      console.log(recargar);\r\n      if(isFocused){\r\n        if(recargar == \"Inicio\" || recargar == \"More Publications\" ){\r\n          console.log(numPagePublication);\r\n          fetchData();\r\n        }else if(recargar == \"New Comment\" || recargar == \"Delete Like\" || recargar == \"Update Like\"){\r\n          console.log(reloadPublication);\r\n          PublicationService.onePublication(reloadPublication)\r\n          .then((response) => {\r\n            console.log(response.data);\r\n            const index = listPublications.findIndex((publication) => publication.uuid === reloadPublication);\r\n  \r\n            if (index >= 0) {\r\n              listPublications.splice(index, 1, (response.data));\r\n              setListPublications([...listPublications]);\r\n            }\r\n  \r\n          })\r\n          .catch(error => {\r\n            navigation.navigate('NotFoundScreen' as never);\r\n            console.log(error)\r\n          });\r\n        }\r\n      }else{\r\n        setCurrentUser(null);\r\n        setListPublications([]);\r\n        setNumPagePublication(1);\r\n        setCommentsVisibility({});\r\n        setPageComments({});\r\n        setCommentButton({});\r\n        setListCommentsPublication({});\r\n        setShowCommentForm({});\r\n        setCommentText({});\r\n        setRecargar('Inicio');\r\n        setNumPublications(0);\r\n        setHasLiked({});\r\n        setReloadPublication('');\r\n      }\r\n      \r\n      \r\n    }, [isFocused, recargar])\r\n  );\r\n  \r\n  const handleGoToScreenUser = (uuid:string) => {\r\n    navigation.navigate(\"UserScreen\" as never, {uuid} as never);\r\n    setRecargar(\"No Recargues\");\r\n  };\r\n\r\n  const handleLoadMore = async () => {\r\n    console.log(\"Has pulsado el btn\");\r\n    setRecargar(\"More Publications\");\r\n    setNumPagePublication((prevPage) => prevPage + 1);\r\n  };\r\n\r\n  const getComments = (idPublication: string) => {\r\n    console.log(\"Ver comentarios\");\r\n    console.log(\"idPublication: \" + idPublication);\r\n    console.log(\r\n      \"commentsVisibility[PublicationId]=\" + commentsVisibility[idPublication]\r\n    );\r\n    console.log(\"pageComments[PublicationId]=\" + pageComments[idPublication]);\r\n    setCommentsVisibility((prevVisibility) => {\r\n      const updatedVisibility = {\r\n        ...prevVisibility,\r\n        [idPublication]: !prevVisibility[idPublication],\r\n      };\r\n      console.log(\"second \" + updatedVisibility[idPublication]);\r\n\r\n      if (updatedVisibility[idPublication]) {\r\n        setCommentButton((prevCommentButton) => ({\r\n          ...prevCommentButton,\r\n          [idPublication]: (prevCommentButton[idPublication] = \"Hide Comments\"),\r\n        }));\r\n        console.log(\"Entro a hide\");\r\n        CommentService.getCommentsPublication(idPublication, (pageComments[idPublication]).toString())\r\n        .then(response => {\r\n          console.log(response);\r\n          console.log(response.data);\r\n          setListCommentsPublication(prevListComments => ({\r\n            ...prevListComments,\r\n            [idPublication]: response.data\r\n          }));\r\n        })\r\n        .catch(error => {\r\n          navigation.navigate('NotFoundScreen' as never);\r\n        });\r\n      } else {\r\n        setCommentButton((prevCommentButton) => ({\r\n          ...prevCommentButton,\r\n          [idPublication]: (prevCommentButton[idPublication] = \"Show Comments\"),\r\n        }));\r\n        console.log(\"Entro a show\");\r\n        setListCommentsPublication((prevListComments) => ({\r\n          ...prevListComments,\r\n          [idPublication]: [],\r\n        }));\r\n        setPageComments((prevPageComments) => ({\r\n          ...prevPageComments,\r\n          [idPublication]: (prevPageComments[idPublication] = 1),\r\n        }));\r\n      }\r\n      return updatedVisibility;\r\n    });\r\n    console.log(\"Page comentarios:\" + pageComments[idPublication]);\r\n  };\r\n\r\n\r\n  const showMoreComments = (idPublication: string) => {\r\n    console.log(\"Ver más comentarios\");\r\n    setPageComments((prevPageComments) => ({\r\n      ...prevPageComments,\r\n      [idPublication]: prevPageComments[idPublication] + 1,\r\n    }));\r\n    CommentService.getCommentsPublication(\r\n      idPublication,\r\n      (pageComments[idPublication] + 1).toString()\r\n    )\r\n      .then((response) => {\r\n        console.log(response);\r\n        console.log(response.data);\r\n        setListCommentsPublication((prevListComments) => ({\r\n          ...prevListComments,\r\n          [idPublication]: [\r\n            ...prevListComments[idPublication],\r\n            ...response.data,\r\n          ],\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        //navigation.navigate(\"\");\r\n        console.log(error)\r\n      });\r\n  };\r\n\r\n  //Para escribir respuesta a publicación\r\n  const handleToggleCommentForm = (idPublication:string) => {\r\n    setShowCommentForm((prevShowComments) => ({\r\n      ...prevShowComments,\r\n      [idPublication]: !prevShowComments[idPublication],\r\n    }));\r\n  };\r\n\r\n  const handleInputChange = (event:string, idPublication:string) => {\r\n    setCommentText((prevCommentText) => ({\r\n      ...prevCommentText,\r\n      [idPublication]: prevCommentText[idPublication] = event,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (event:any, idPublication:string) => {\r\n    event.preventDefault();\r\n\r\n    // Lógica para enviar el comentario a la publicación\r\n    const userId = await SessionService.getCurrentUser();\r\n\r\n    if(userId){\r\n      const comment:CommentEntity = {\r\n        idUserComment: userId,\r\n        idPublicationComment: idPublication,\r\n        textComment: commentText[idPublication],\r\n      };\r\n\r\n      CommentService.createComment(comment)\r\n        .then((response) => {\r\n          console.log(response);\r\n          console.log(response.data);\r\n          setReloadPublication(idPublication);\r\n          setRecargar(\"New Comment\");\r\n        })\r\n        .catch(error => {\r\n          //navigation.navigate(\"\");\r\n          console.log(error);\r\n        });\r\n  \r\n    }\r\n    \r\n    setCommentText((prevCommentText) => ({\r\n      ...prevCommentText,\r\n      [idPublication]: prevCommentText[idPublication] = \"\",\r\n    }));  \r\n  \r\n  };\r\n\r\n  const handleLike = async (idPublication:string) => {\r\n\r\n    console.log(\"Handle Like\" + idPublication);\r\n    console.log(\"Handle Like\" + hasLiked[idPublication]);\r\n    const userId = await SessionService.getCurrentUser();\r\n    if(userId){\r\n      if(hasLiked[idPublication]){\r\n\r\n        setHasLiked((prevLikes) => ({\r\n          ...prevLikes,\r\n          [idPublication]: !prevLikes[idPublication],\r\n        }));\r\n        console.log(\"Handle Like True: \" + hasLiked[idPublication]);\r\n        PublicationService.deleteLike(idPublication, userId)\r\n        .then((response) => {\r\n          console.log(response);\r\n          console.log(response.data);\r\n          setReloadPublication(idPublication);\r\n          setRecargar(\"Delete Like\");\r\n          console.log(\"Se ha recargado\");\r\n        })\r\n        .catch(error => {\r\n          navigation.navigate(\"NotFoundScreen\" as never);\r\n        });\r\n  \r\n      }else{\r\n        setHasLiked((prevLikes) => ({\r\n          ...prevLikes,\r\n          [idPublication]: !prevLikes[idPublication],\r\n        }));\r\n        console.log(\"Handle Like False: \" + hasLiked[idPublication]);\r\n\r\n        PublicationService.updateLike(idPublication, userId)\r\n        .then((response) => {\r\n          console.log(response);\r\n          console.log(response.data);\r\n          setReloadPublication(idPublication);\r\n          setRecargar(\"Update Like\");\r\n          console.log(\"Se ha recargado\");\r\n        })\r\n        .catch(error => {\r\n          navigation.navigate(\"NotFoundScreen\" as never);\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  const loadUserList = async () => {\r\n    const userId = await SessionService.getCurrentUser();\r\n    if (userId) {\r\n      try {\r\n        CRUDService.getFollowed(userId, numPage.toString())\r\n          .then(response => {\r\n            setUserList(response?.data || []);\r\n          })\r\n          .catch(error => {\r\n            console.log(\"Error al obtener los usuarios a los que seguimos: \" + error);\r\n          });\r\n      } catch {\r\n        console.log(\"Error al obtener los usuarios a los que seguimos.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadUserList();\r\n  }, [numPage]);\r\n\r\n  const handlePageDecrease = () => {\r\n    if (numPage > 1) {\r\n      setNumPage(prevNumPage => prevNumPage - 1);\r\n    }\r\n  };\r\n  \r\n  const handlePageIncrease = async () => {\r\n    // setNumPage(prevNumPage => prevNumPage + 1);\r\n    if (currentUser != null && currentUser.followedUser != null){\r\n      if (numPage < currentUser.followedUser.length/2) {\r\n        setNumPage(prevNumPage => prevNumPage + 1);\r\n      }\r\n    }\r\n  };  \r\n\r\n  \r\n  const styles = StyleSheet.create({\r\n    feed: {\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    iconsLayout: {\r\n      flexDirection: 'row',\r\n      marginRight: 0,\r\n      marginLeft: 0,\r\n      marginTop: 0,\r\n      marginBottom: 0,\r\n    },\r\n    headerContainer: {\r\n      flexDirection: 'row',\r\n      marginLeft: 10,\r\n      marginTop: 0,\r\n      marginRight:10,\r\n      marginBottom: 0,\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      height: 80,\r\n    },\r\n    limitedContainer: {\r\n      marginTop: 0,\r\n    },\r\n    post: {\r\n      flex:1,\r\n      flexGrow:1,\r\n      height: '100%',\r\n      flexDirection: 'column',\r\n      width: 340,\r\n      justifyContent: 'flex-start',\r\n      borderRadius: 20,\r\n      borderWidth: 1,\r\n      marginBottom: 6,\r\n    },\r\n    userLink: {\r\n      alignItems: 'center',\r\n      padding: 10,\r\n    },\r\n    backgroundImage: {\r\n      flex: 1,\r\n      resizeMode: 'cover',\r\n    },\r\n    postHeader: {\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      alignItems: 'center',\r\n      fontFamily: bodyFont,\r\n      justifyContent: 'flex-start',\r\n      marginTop: 0,\r\n      marginBottom: 0,\r\n    },\r\n    postProfileImg: {\r\n      width: 50,\r\n      height: 50,\r\n      resizeMode: 'cover',\r\n      marginRight: 10,\r\n      borderRadius: 50,\r\n    },\r\n    postProfileStories: {\r\n      width: 50,\r\n      height: 50,\r\n      resizeMode: 'cover',\r\n      marginRight: 10,\r\n      marginLeft: 10,\r\n      borderRadius: 50,\r\n    },\r\n    postInfo: {\r\n      flex: 1,\r\n      fontFamily: bodyFont,\r\n      textAlign: 'left',\r\n    },\r\n    postUsernameHeader: {\r\n      fontSize: 22,\r\n      fontWeight: 'bold',\r\n      marginBottom: 0,\r\n      fontFamily: bodyFont,\r\n      marginTop: 0,\r\n      marginLeft: 0,\r\n      color: '#66fcf1',\r\n    },\r\n    postTimestampHeader: {\r\n      fontSize: 14,\r\n      color: '#fff',\r\n      marginLeft: 0,\r\n      fontFamily: bodyFont,\r\n      marginTop: 0,\r\n    },\r\n    postBody: {\r\n      alignItems: 'center',\r\n      padding: 10,\r\n    },\r\n    postImage: {\r\n      alignItems: 'center',\r\n      padding: 0,\r\n      marginTop: -8,\r\n      width: 320, \r\n      height: 320,\r\n      borderRadius: 20,\r\n    },\r\n    postText: {\r\n      textAlign: 'left',\r\n      fontSize: 22,\r\n      color: '#fff',\r\n      fontFamily: bodyFont,\r\n      marginTop: 2,\r\n      marginBottom: 6,\r\n      marginLeft: 10,\r\n    },\r\n    heartMessageLayout: {\r\n      textAlign: 'left',\r\n      fontSize: 22,\r\n      color: '#000',\r\n      flexDirection: 'row',\r\n      fontFamily: bodyFont,\r\n      marginTop: 0,\r\n      marginBottom: 6,\r\n      marginLeft: 8,\r\n    },\r\n    numberOfLikesPost: {\r\n      fontFamily: bodyFont,\r\n      fontSize: 16,\r\n      marginLeft: 10,\r\n      color: '#ffffff',\r\n    },\r\n    postComments:{\r\n      display:'flex',\r\n      flexDirection:'column',\r\n      fontFamily: bodyFont,\r\n      height:'flex',\r\n      justifyContent:'flex-start',\r\n      marginTop:0,\r\n      marginBottom: 10,\r\n    },\r\n    showHide:{\r\n      marginTop: -6,\r\n      marginBottom: 4,\r\n      padding: 6,\r\n      fontFamily: bodyFont,\r\n      borderWidth: 0,\r\n      textAlign: \"center\",\r\n      alignSelf: \"center\",\r\n    },\r\n    showHideText:{\r\n      fontFamily: bodyFont,\r\n      fontSize: 16,\r\n      color: '#66fcf1',\r\n    },\r\n    showHideTextNumber: {\r\n      fontFamily: bodyFont,\r\n      fontSize: 16,\r\n      color: 'yellow',\r\n    },\r\n    inputComment:{\r\n      borderWidth: 0,\r\n      height:70,\r\n      width: 200,\r\n      flex:1,\r\n      alignContent:'center',\r\n      fontFamily: bodyFont,\r\n    },\r\n    buttonSendComment:{\r\n  \r\n    },\r\n    textButtonSend:{\r\n      fontFamily: bodyFont,\r\n      fontSize: 16,\r\n      color: '#66fcf1',\r\n      marginTop: 8,\r\n      textAlign: \"center\",\r\n      marginRight: 4,\r\n    },\r\n    ButtonSend:{\r\n      fontFamily: bodyFont,\r\n      fontSize: 16,\r\n      color: 'yellow',\r\n      marginTop: 8,\r\n      textAlign: \"center\",\r\n    },\r\n    commentContainer:{\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      flex: 1,\r\n      justifyContent: \"flex-start\",\r\n      marginTop: 0,\r\n      marginBottom: 10,\r\n    }, \r\n    userComment:{\r\n      display: \"flex\",\r\n      fontFamily: bodyFont,\r\n      justifyContent: \"flex-start\",\r\n      borderWidth: 0,\r\n      marginTop:-6,\r\n    }, \r\n    commentProfileImg:{\r\n  \r\n    }, \r\n    userInfo:{\r\n  \r\n  \r\n    }, \r\n    userName:{\r\n      borderWidth: 0,\r\n      fontFamily: bodyFont,\r\n      color: \"yellow\",\r\n      fontSize: 16,\r\n      marginBottom: 0,\r\n      marginLeft: 10,\r\n    }, \r\n    commentText:{\r\n      fontSize: 14,\r\n      marginTop: 0,\r\n      fontFamily: bodyFont,\r\n      marginBottom: 0,\r\n      color: \"#ffffff\",\r\n      marginLeft: 10,\r\n    },\r\n    showMoreCommentsButton:{\r\n      marginTop: 2,\r\n      marginBottom: 14,\r\n      borderWidth: 0,\r\n      textAlign: \"center\",\r\n      alignSelf: \"center\",\r\n    },\r\n    showMoreCommentsButtonIcon:{\r\n      color: \"#66fcf1\"\r\n    },\r\n    showMoreCommentsButtonDisabled:{\r\n      margin: 18,\r\n      marginTop: 0,\r\n      marginBottom: 46,\r\n      padding: 6,\r\n      backgroundColor: \"#66fcf27e\",\r\n      borderWidth: 0,\r\n      borderRadius: 20,\r\n      width: 100,\r\n      textAlign: \"center\",\r\n      alignSelf: \"center\",\r\n      cursor: \"not-allowed\",\r\n    },\r\n    loadMoreButton: {\r\n      margin: 6,\r\n      padding: 6,\r\n      backgroundColor: \"#66fcf1\",\r\n      borderRadius: 20,\r\n      width: 100,\r\n      height: 36,\r\n      justifyContent: 'center',\r\n      alignSelf: \"center\",\r\n      marginBottom: 96,\r\n    },\r\n    loadMoreButtonText: {\r\n      textAlign: 'center',\r\n      fontFamily: bodyFont,\r\n      fontSize: 16,\r\n      color: '#000',\r\n      marginTop: 0,\r\n      marginBottom: 0,\r\n    },\r\n    input: {\r\n      width: 320,\r\n      height: 36,\r\n      marginLeft: 10,\r\n      marginTop:0,\r\n    },\r\n    sendLayout: {\r\n      flexDirection: 'row',\r\n      justifyContent: 'center',\r\n      alignSelf: \"center\",\r\n    },\r\n    nextBackButton: {\r\n      padding: 6,\r\n      backgroundColor: \"transparent\",\r\n      borderRadius: 20,\r\n      width: 36,\r\n      height: 36,\r\n      justifyContent: 'center',\r\n      alignSelf: \"center\",\r\n      marginBottom: 0,\r\n      textAlign: 'center',\r\n      fontFamily: bodyFont,\r\n      fontSize: 16,\r\n      marginTop: 0,\r\n      alignItems: 'center',\r\n      marginLeft: 16,\r\n      marginRight: 16,\r\n    },\r\n  });\r\n  \r\n  return (\r\n    <ImageBackground source={require('../../../../assets/visualcontent/background_8.png')} style={styles.backgroundImage}>\r\n      <View style={styles.headerContainer}>\r\n        <TouchableOpacity onPress={handlePageDecrease} style={styles.nextBackButton}>\r\n          <MaterialCommunityIcons color=\"#66fcf1\" name=\"arrow-left\" size={24} />\r\n        </TouchableOpacity>\r\n        {userList.map((user) => (\r\n          <View style={styles.iconsLayout} key={user.uuid}>\r\n            <TouchableOpacity onPress={() => handleGoToScreenUser(user.uuid)} style={styles.userLink}>\r\n              <View style={styles.postHeader}>\r\n                <Image source={{ uri: user.photoUser }} style={styles.postProfileStories} resizeMode=\"cover\" />\r\n              </View>\r\n            </TouchableOpacity>\r\n          </View>\r\n        ))}\r\n        <TouchableOpacity onPress={handlePageIncrease} style={styles.nextBackButton}>\r\n          <MaterialCommunityIcons color=\"#66fcf1\" name=\"arrow-right\" size={24} />\r\n        </TouchableOpacity>\r\n      </View>\r\n      <View style={styles.limitedContainer}>\r\n        <ScrollView>\r\n          <View>\r\n            <View style={styles.feed}>\r\n              {listPublications.map((publication) => (\r\n              <View style={styles.post} key={publication.uuid}>\r\n                <TouchableOpacity onPress={() => handleGoToScreenUser(publication.idUser.uuid)} style={styles.userLink}>\r\n                  <View style={styles.postHeader}>\r\n                    <Image\r\n                      source={{ uri: publication.idUser.photoUser }}\r\n                      style={styles.postProfileImg}\r\n                      resizeMode=\"cover\"\r\n                    />\r\n                    <View style={styles.postInfo}>\r\n                      <Text style={styles.postUsernameHeader}>{publication.idUser.appUser}</Text>\r\n                      <Text style={styles.postTimestampHeader}>{new Date(publication.createdAt).toLocaleString()}</Text>\r\n                    </View>\r\n                  </View>\r\n                </TouchableOpacity>\r\n                <View style={styles.postBody}>\r\n                  {publication.photoPublication.map((photo) => (\r\n                    <Image\r\n                      key={photo}\r\n                      source={{ uri: photo }}\r\n                      style={styles.postImage}\r\n                      resizeMode=\"cover\"\r\n                    />\r\n                  ))}\r\n                </View>\r\n                <View style={styles.heartMessageLayout}>\r\n                  <TouchableOpacity onPress={() => { handleLike(publication.uuid.toString()); }}>\r\n                    <MaterialCommunityIcons name=\"heart\" size={28} color=\"#fb3958\" />\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity  onPress={() => {navigation.navigate(\"UsersList\" as never, { userId: publication.uuid, mode: \"likes\"} as never);}}>\r\n                     <Text style={styles.numberOfLikesPost}>{publication.likesPublication?.length}</Text>\r\n                  </TouchableOpacity>\r\n                  \r\n                  <TouchableOpacity onPress={() => { handleToggleCommentForm(publication.uuid.toString()); }}>\r\n                    <MaterialCommunityIcons style={{ marginLeft: 4 }} name=\"comment\" size={28} color=\"#66fcf1\" />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <Text style={styles.postText}>{publication.textPublication}</Text>\r\n                <View style={styles.commentContainer}>\r\n                  <TouchableOpacity style={styles.showHide} onPress={() => {\r\n                    getComments(publication.uuid.toString());\r\n                    }}\r\n                    >\r\n                    <Text style={styles.showHideText}>\r\n                      {commentsVisibility[publication.uuid]}{\" \"}\r\n                      {commentButton[publication.uuid]}{\" \"}\r\n                      <Text style={styles.showHideTextNumber}>\r\n                        {publication.commentsPublication?.length}\r\n                      </Text>\r\n                    </Text>\r\n                  </TouchableOpacity>\r\n                  {showCommentForm[publication.uuid] && (\r\n                    <View>\r\n                      <StyledTextInputs style={styles.input} placeholder=\"Write a Comment\" value={commentText[publication.uuid]} onChangeText={(event:string) => handleInputChange(event, publication.uuid.toString())}/>\r\n                      <TouchableOpacity style={styles.buttonSendComment} onPress={(event) => handleSubmit(event, publication.uuid.toString())} >\r\n                        <View style={styles.sendLayout}>\r\n                          <Text style={styles.textButtonSend}> Send</Text>\r\n                          <MaterialCommunityIcons style={styles.ButtonSend} name=\"send\" size={20} />\r\n                        </View>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                  )}  \r\n                </View>\r\n                {commentsVisibility[publication.uuid] && (\r\n                  <View>\r\n                    {listCommentsPublication[publication.uuid].map((comment) => (\r\n                      <TouchableOpacity\r\n                        key={comment.uuid}\r\n                        onPress={() => handleGoToScreenUser(comment.idUserComment.uuid)}\r\n                        style={styles.commentContainer}\r\n                      >\r\n                        <View style={styles.userComment}>\r\n                          {comment.idUserComment.photoUser ? (\r\n                            <Image\r\n                              source={{ uri: comment.idUserComment.photoUser }}\r\n                              style={styles.commentProfileImg}\r\n                            />\r\n                          ) : (\r\n                            <Image\r\n                              source={{ uri: \"https://pbs.twimg.com/profile_images/1354463303486025733/Bn-iEeUO_400x400.jpg\" }}\r\n                              style={styles.commentProfileImg}\r\n                            />\r\n                          )}\r\n                          <View style={styles.userInfo}>\r\n                            <Text style={styles.userName}>@{comment.idUserComment.appUser}</Text>\r\n                            <Text style={styles.commentText}>{comment.textComment}</Text>\r\n                          </View>\r\n                        </View>\r\n                      </TouchableOpacity>\r\n                    ))}\r\n                    \r\n                    {publication.commentsPublication &&\r\n                        publication.commentsPublication.length >\r\n                          (pageComments[publication?.uuid] ?? 0) * 2 ? (\r\n                          <TouchableOpacity\r\n                            style={styles.showMoreCommentsButton}\r\n                            onPress={() => {\r\n                              showMoreComments(publication.uuid);\r\n                            }}\r\n                          >\r\n                            <MaterialCommunityIcons style={styles.showMoreCommentsButtonIcon} name=\"plus\" size={16} />\r\n                          </TouchableOpacity>\r\n                        ) : (\r\n                          <Text></Text>\r\n                    )}                \r\n                  </View>\r\n                )}\r\n              </View>\r\n              ))}\r\n            </View>\r\n            <View>\r\n              {numPublications > numPagePublication * 3 && (\r\n                <TouchableOpacity style={styles.loadMoreButton} onPress={handleLoadMore}>\r\n                  <Text style={styles.loadMoreButtonText}>Load More</Text>\r\n                </TouchableOpacity>\r\n              )}\r\n            </View>\r\n          </View>\r\n        </ScrollView>\r\n      </View>\r\n    </ImageBackground>\r\n  );\r\n\r\n\r\n\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}