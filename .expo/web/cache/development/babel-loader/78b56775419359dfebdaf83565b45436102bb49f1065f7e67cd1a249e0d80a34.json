{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { useEffect, useState } from \"react\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { SessionService } from \"../../services/user/session.service\";\nimport { PublicationService } from \"../../services/publication/publication.service\";\nimport { useFocusEffect, useNavigation } from \"@react-navigation/native\";\nimport { CRUDService } from \"../../services/user/CRUD.service\";\nimport React from \"react\";\nimport { CommentService } from \"../../services/comment/comment.service\";\nimport StyledTextInputs from \"../components/inputs/StyledTextInputs\";\nimport MaterialCommunityIcons from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport * as Font from 'expo-font';\nimport { useSpring } from 'react-spring';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction loadFonts() {\n  return _loadFonts.apply(this, arguments);\n}\nfunction _loadFonts() {\n  _loadFonts = _asyncToGenerator(function* () {\n    yield Font.loadAsync({\n      'Rafaella': require(\"../../../../assets/fonts/Rafaella.ttf\"),\n      'SFNS': require(\"../../../../assets/fonts/SFNS.otf\")\n    });\n  });\n  return _loadFonts.apply(this, arguments);\n}\nexport default function FeedScreen() {\n  var navigation = useNavigation();\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentUser = _useState2[0],\n    setCurrentUser = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    listPublications = _useState4[0],\n    setListPublications = _useState4[1];\n  var _useState5 = useState(1),\n    _useState6 = _slicedToArray(_useState5, 2),\n    numPagePublication = _useState6[0],\n    setNumPagePublication = _useState6[1];\n  var _useState7 = useState({}),\n    _useState8 = _slicedToArray(_useState7, 2),\n    commentsVisibility = _useState8[0],\n    setCommentsVisibility = _useState8[1];\n  var _useState9 = useState({}),\n    _useState10 = _slicedToArray(_useState9, 2),\n    pageComments = _useState10[0],\n    setPageComments = _useState10[1];\n  var _useState11 = useState({}),\n    _useState12 = _slicedToArray(_useState11, 2),\n    commentButton = _useState12[0],\n    setCommentButton = _useState12[1];\n  var _useState13 = useState({}),\n    _useState14 = _slicedToArray(_useState13, 2),\n    listCommentsPublication = _useState14[0],\n    setListCommentsPublication = _useState14[1];\n  var _useState15 = useState({}),\n    _useState16 = _slicedToArray(_useState15, 2),\n    showCommentForm = _useState16[0],\n    setShowCommentForm = _useState16[1];\n  var _useState17 = useState({}),\n    _useState18 = _slicedToArray(_useState17, 2),\n    commentText = _useState18[0],\n    setCommentText = _useState18[1];\n  var _useState19 = useState(''),\n    _useState20 = _slicedToArray(_useState19, 2),\n    recargar = _useState20[0],\n    setRecargar = _useState20[1];\n  var _useState21 = useState(null),\n    _useState22 = _slicedToArray(_useState21, 2),\n    userList = _useState22[0],\n    setUserList = _useState22[1];\n  var _useState23 = useState(0),\n    _useState24 = _slicedToArray(_useState23, 2),\n    numPublications = _useState24[0],\n    setNumPublications = _useState24[1];\n  var _useState25 = useState({}),\n    _useState26 = _slicedToArray(_useState25, 2),\n    hasLiked = _useState26[0],\n    setHasLiked = _useState26[1];\n  var _useState27 = useState(false),\n    _useState28 = _slicedToArray(_useState27, 2),\n    fontsLoaded = _useState28[0],\n    setFontsLoaded = _useState28[1];\n  useEffect(function () {\n    loadFonts().then(function () {\n      setFontsLoaded(true);\n    });\n  }, []);\n  var titleFont = Platform.select({\n    ios: 'Rafaella',\n    android: 'Rafaella'\n  });\n  var bodyFont = Platform.select({\n    ios: 'SFNS',\n    android: 'SFNS'\n  });\n  useFocusEffect(React.useCallback(function () {\n    console.log(\"Iniciamos feed\");\n    var fetchData = function () {\n      var _ref = _asyncToGenerator(function* () {\n        var userId = yield SessionService.getCurrentUser();\n        if (userId) {\n          try {\n            var response = yield CRUDService.getUser(userId);\n            console.log(\"Punto 1:\", response);\n            console.log(response == null ? void 0 : response.data);\n            setCurrentUser(response == null ? void 0 : response.data);\n            PublicationService.feed(numPagePublication.toString(), userId).then(function (response) {\n              console.log(response);\n              console.log(response.data);\n              console.log(\"userId\", userId);\n              var initialVisibility = response.data.reduce(function (acc, publication) {\n                acc[publication.uuid] = false;\n                return acc;\n              }, {});\n              setCommentsVisibility(initialVisibility);\n              var initialPage = response.data.reduce(function (acc, publication) {\n                acc[publication.uuid] = 1;\n                return acc;\n              }, {});\n              setPageComments(initialPage);\n              var initialCommentButton = response.data.reduce(function (acc, publication) {\n                acc[publication.uuid] = \"Show Comments\";\n                return acc;\n              }, {});\n              setCommentButton(initialCommentButton);\n              var initialListComments = response.data.reduce(function (acc, publication) {\n                acc[publication.uuid] = [];\n                return acc;\n              }, {});\n              setListCommentsPublication(initialListComments);\n              var initialCommentText = response.data.reduce(function (acc, publication) {\n                acc[publication.uuid] = \"\";\n                return acc;\n              }, {});\n              setCommentText(initialCommentText);\n              var initialShowLikes = response.data.reduce(function (acc, publication) {\n                var _publication$likesPub;\n                var hasLiked = ((_publication$likesPub = publication.likesPublication) == null ? void 0 : _publication$likesPub.includes(userId)) || false;\n                acc[publication.uuid] = hasLiked;\n                return acc;\n              }, {});\n              setHasLiked(initialShowLikes);\n              setListPublications(response.data);\n            }).catch(function (error) {\n              console.log(error);\n            });\n            PublicationService.numPublicationsFollowing(userId).then(function (response) {\n              console.log(response);\n              console.log(response.data);\n              setNumPublications(response.data);\n            });\n          } catch (error) {\n            console.log(\"Encontre el id pero no va\");\n          }\n        }\n      });\n      return function fetchData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    fetchData();\n  }, [numPagePublication, recargar]));\n  var handleSearch = function () {\n    var _ref2 = _asyncToGenerator(function* (query, setUserList) {\n      console.log('He entrado en handleSearch.');\n      if (query.length > 0) {\n        try {\n          var response = yield CRUDService.searchUsers(query);\n          console.log(response);\n          setUserList(response == null ? void 0 : response.data);\n          console.log('He hecho el servicio de handleSearch.');\n          console.log('>> Lista de usuarios: ' + userList);\n        } catch (error) {\n          console.error(error);\n        }\n      } else {\n        try {\n          var _response = yield CRUDService.getUsers();\n          setUserList(_response == null ? void 0 : _response.data);\n        } catch (error) {\n          console.error(error);\n        }\n      }\n    });\n    return function handleSearch(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleSearchWrapper = function handleSearchWrapper(searchText) {\n    handleSearch(searchText, setUserList);\n  };\n  var handleGoToScreenUser = function handleGoToScreenUser(uuid) {\n    navigation.navigate(\"UserScreen\", {\n      uuid: uuid\n    });\n  };\n  var handleLoadMore = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      console.log(\"Has pulsado el btn\");\n      setNumPagePublication(function (prevPage) {\n        return prevPage + 1;\n      });\n      var userId = yield SessionService.getCurrentUser();\n      console.log(\"HandleLoadMore:\" + numPagePublication);\n      if (userId) {\n        PublicationService.feed(numPagePublication.toString(), userId).then(function (response) {\n          console.log(response);\n          console.log(response.data);\n          setListPublications(function (prevPublications) {\n            return [].concat(_toConsumableArray(prevPublications), _toConsumableArray(response.data));\n          });\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    });\n    return function handleLoadMore() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var getComments = function getComments(idPublication) {\n    console.log(\"Ver comentarios\");\n    console.log(\"idPublication: \" + idPublication);\n    console.log(\"commentsVisibility[PublicationId]=\" + commentsVisibility[idPublication]);\n    console.log(\"pageComments[PublicationId]=\" + pageComments[idPublication]);\n    setCommentsVisibility(function (prevVisibility) {\n      var updatedVisibility = _objectSpread(_objectSpread({}, prevVisibility), {}, _defineProperty({}, idPublication, !prevVisibility[idPublication]));\n      console.log(\"second \" + updatedVisibility[idPublication]);\n      if (updatedVisibility[idPublication]) {\n        setCommentButton(function (prevCommentButton) {\n          return _objectSpread(_objectSpread({}, prevCommentButton), {}, _defineProperty({}, idPublication, prevCommentButton[idPublication] = \"Hide Comments\"));\n        });\n        console.log(\"Entro a hide\");\n        CommentService.getCommentsPublication(idPublication, pageComments[idPublication].toString()).then(function (response) {\n          console.log(response);\n          console.log(response.data);\n          setListCommentsPublication(function (prevListComments) {\n            return _objectSpread(_objectSpread({}, prevListComments), {}, _defineProperty({}, idPublication, response.data));\n          });\n        }).catch(function (error) {});\n      } else {\n        setCommentButton(function (prevCommentButton) {\n          return _objectSpread(_objectSpread({}, prevCommentButton), {}, _defineProperty({}, idPublication, prevCommentButton[idPublication] = \"Show Comments\"));\n        });\n        console.log(\"Entro a show\");\n        setListCommentsPublication(function (prevListComments) {\n          return _objectSpread(_objectSpread({}, prevListComments), {}, _defineProperty({}, idPublication, []));\n        });\n        setPageComments(function (prevPageComments) {\n          return _objectSpread(_objectSpread({}, prevPageComments), {}, _defineProperty({}, idPublication, prevPageComments[idPublication] = 1));\n        });\n      }\n      return updatedVisibility;\n    });\n    console.log(\"Page comentarios:\" + pageComments[idPublication]);\n  };\n  var showMoreComments = function showMoreComments(idPublication) {\n    console.log(\"Ver más comentarios\");\n    setPageComments(function (prevPageComments) {\n      return _objectSpread(_objectSpread({}, prevPageComments), {}, _defineProperty({}, idPublication, prevPageComments[idPublication] + 1));\n    });\n    CommentService.getCommentsPublication(idPublication, (pageComments[idPublication] + 1).toString()).then(function (response) {\n      console.log(response);\n      console.log(response.data);\n      setListCommentsPublication(function (prevListComments) {\n        return _objectSpread(_objectSpread({}, prevListComments), {}, _defineProperty({}, idPublication, [].concat(_toConsumableArray(prevListComments[idPublication]), _toConsumableArray(response.data))));\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n  var handleToggleCommentForm = function handleToggleCommentForm(idPublication) {\n    setShowCommentForm(function (prevShowComments) {\n      return _objectSpread(_objectSpread({}, prevShowComments), {}, _defineProperty({}, idPublication, !prevShowComments[idPublication]));\n    });\n  };\n  var handleInputChange = function handleInputChange(event, idPublication) {\n    setCommentText(function (prevCommentText) {\n      return _objectSpread(_objectSpread({}, prevCommentText), {}, _defineProperty({}, idPublication, prevCommentText[idPublication] = event));\n    });\n  };\n  var handleSubmit = function () {\n    var _ref4 = _asyncToGenerator(function* (event, idPublication) {\n      event.preventDefault();\n      var userId = yield SessionService.getCurrentUser();\n      if (userId) {\n        var comment = {\n          idUserComment: userId,\n          idPublicationComment: idPublication,\n          textComment: commentText[idPublication]\n        };\n        CommentService.createComment(comment).then(function (response) {\n          console.log(response);\n          console.log(response.data);\n          setRecargar(\"recargate\");\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n      setCommentText(function (prevCommentText) {\n        return _objectSpread(_objectSpread({}, prevCommentText), {}, _defineProperty({}, idPublication, prevCommentText[idPublication] = \"\"));\n      });\n      var handleLike = function () {\n        var _ref5 = _asyncToGenerator(function* (idPublication) {\n          console.log(\"Handle Like\" + idPublication);\n          console.log(\"Handle Like\" + hasLiked[idPublication]);\n          var userId = yield SessionService.getCurrentUser();\n          if (userId) {\n            if (hasLiked[idPublication]) {\n              setHasLiked(function (prevLikes) {\n                return _objectSpread(_objectSpread({}, prevLikes), {}, _defineProperty({}, idPublication, !prevLikes[idPublication]));\n              });\n              console.log(\"Handle Like True: \" + hasLiked[idPublication]);\n              PublicationService.deleteLike(idPublication, userId).then(function (response) {\n                console.log(response);\n                console.log(response.data);\n                setRecargar(\"recargate\");\n                console.log(\"Se ha recargado\");\n              }).catch(function (error) {\n                navigation.navigate(\"NotFoundScreen\");\n              });\n            } else {\n              setHasLiked(function (prevLikes) {\n                return _objectSpread(_objectSpread({}, prevLikes), {}, _defineProperty({}, idPublication, !prevLikes[idPublication]));\n              });\n              console.log(\"Handle Like False: \" + hasLiked[idPublication]);\n              PublicationService.updateLike(idPublication, userId).then(function (response) {\n                console.log(response);\n                console.log(response.data);\n                setRecargar(\"recargate\");\n                console.log(\"Se ha recargado\");\n              }).catch(function (error) {\n                navigation.navigate(\"NotFoundScreen\");\n              });\n            }\n          }\n        });\n        return function handleLike(_x5) {\n          return _ref5.apply(this, arguments);\n        };\n      }();\n      var heartAnimation = useSpring({\n        from: {\n          opacity: 0,\n          y: 0\n        },\n        to: {\n          opacity: hasLiked ? 1 : 0,\n          y: hasLiked ? -100 : 0\n        }\n      });\n    });\n    return function handleSubmit(_x3, _x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var styles = StyleSheet.create({\n    feed: {\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    iconsLayout: {\n      flexDirection: 'row',\n      marginRight: 0\n    },\n    headerContainer: {\n      flexDirection: 'row',\n      marginLeft: 10,\n      marginTop: 6,\n      marginRight: 10,\n      marginBottom: 6\n    },\n    limitedContainer: {\n      marginTop: 0\n    },\n    post: {\n      flex: 1,\n      flexGrow: 1,\n      height: '100%',\n      flexDirection: 'column',\n      width: 340,\n      justifyContent: 'flex-start',\n      borderRadius: 20,\n      borderWidth: 1,\n      marginBottom: 6\n    },\n    userLink: {\n      alignItems: 'center',\n      padding: 10\n    },\n    backgroundImage: {\n      flex: 1,\n      resizeMode: 'cover'\n    },\n    postHeader: {\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center',\n      fontFamily: bodyFont,\n      justifyContent: 'flex-start',\n      marginTop: 0,\n      marginBottom: 0\n    },\n    postProfileImg: {\n      width: 50,\n      height: 50,\n      resizeMode: 'cover',\n      marginRight: 10,\n      borderRadius: 50\n    },\n    postInfo: {\n      flex: 1,\n      fontFamily: bodyFont,\n      textAlign: 'left'\n    },\n    postUsernameHeader: {\n      fontSize: 22,\n      fontWeight: 'bold',\n      marginBottom: 0,\n      fontFamily: bodyFont,\n      marginTop: 0,\n      marginLeft: 0,\n      color: '#66fcf1'\n    },\n    postTimestampHeader: {\n      fontSize: 14,\n      color: '#fff',\n      marginLeft: 0,\n      fontFamily: bodyFont,\n      marginTop: 0\n    },\n    postBody: {\n      alignItems: 'center',\n      padding: 10\n    },\n    postImage: {\n      alignItems: 'center',\n      padding: 0,\n      marginTop: -8,\n      width: 320,\n      height: 320\n    },\n    postText: {\n      textAlign: 'left',\n      fontSize: 22,\n      color: '#fff',\n      fontFamily: bodyFont,\n      marginTop: 2,\n      marginBottom: 6,\n      marginLeft: 10\n    },\n    heartMessageLayout: {\n      textAlign: 'left',\n      fontSize: 22,\n      color: '#000',\n      flexDirection: 'row',\n      fontFamily: bodyFont,\n      marginTop: 0,\n      marginBottom: 6,\n      marginLeft: 10\n    },\n    postComments: {\n      display: 'flex',\n      flexDirection: 'column',\n      fontFamily: bodyFont,\n      height: 'flex',\n      justifyContent: 'flex-start',\n      marginTop: 0,\n      marginBottom: 10\n    },\n    showHide: {\n      marginTop: -6,\n      marginBottom: 4,\n      padding: 6,\n      fontFamily: bodyFont,\n      borderWidth: 0,\n      textAlign: \"center\",\n      alignSelf: \"center\"\n    },\n    showHideText: {\n      fontFamily: bodyFont,\n      fontSize: 16,\n      color: '#66fcf1'\n    },\n    showHideTextNumber: {\n      fontFamily: bodyFont,\n      fontSize: 16,\n      color: 'yellow'\n    },\n    inputComment: {\n      borderWidth: 0,\n      height: 70,\n      width: 200,\n      flex: 1,\n      alignContent: 'center',\n      fontFamily: bodyFont\n    },\n    buttonSendComment: {},\n    textButtonSend: {\n      fontFamily: bodyFont,\n      fontSize: 16,\n      color: '#66fcf1',\n      marginTop: 8,\n      textAlign: \"center\",\n      marginRight: 4\n    },\n    ButtonSend: {\n      fontFamily: bodyFont,\n      fontSize: 16,\n      color: 'yellow',\n      marginTop: 8,\n      textAlign: \"center\"\n    },\n    commentContainer: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      flex: 1,\n      justifyContent: \"flex-start\",\n      marginTop: 0,\n      marginBottom: 10\n    },\n    userComment: {\n      display: \"flex\",\n      fontFamily: bodyFont,\n      justifyContent: \"flex-start\",\n      borderWidth: 0,\n      marginTop: -6\n    },\n    commentProfileImg: {},\n    userInfo: {},\n    userName: {\n      borderWidth: 0,\n      fontFamily: bodyFont,\n      color: \"yellow\",\n      fontSize: 16,\n      marginBottom: 0,\n      marginLeft: 10\n    },\n    commentText: {\n      fontSize: 14,\n      marginTop: 0,\n      fontFamily: bodyFont,\n      marginBottom: 0,\n      color: \"#ffffff\",\n      marginLeft: 10\n    },\n    showMoreCommentsButton: {\n      marginTop: 2,\n      marginBottom: 14,\n      borderWidth: 0,\n      textAlign: \"center\",\n      alignSelf: \"center\"\n    },\n    showMoreCommentsButtonIcon: {\n      color: \"#66fcf1\"\n    },\n    showMoreCommentsButtonDisabled: {\n      margin: 18,\n      marginTop: 0,\n      marginBottom: 46,\n      padding: 6,\n      backgroundColor: \"#66fcf27e\",\n      borderWidth: 0,\n      borderRadius: 20,\n      width: 100,\n      textAlign: \"center\",\n      alignSelf: \"center\",\n      cursor: \"not-allowed\"\n    },\n    loadMoreButton: {\n      margin: 6,\n      padding: 6,\n      backgroundColor: \"#66fcf1\",\n      borderRadius: 20,\n      width: 100,\n      height: 36,\n      justifyContent: 'center',\n      alignSelf: \"center\",\n      marginBottom: 96\n    },\n    loadMoreButtonText: {\n      textAlign: 'center',\n      fontFamily: bodyFont,\n      fontSize: 16,\n      color: '#000',\n      marginTop: 0,\n      marginBottom: 0\n    },\n    input: {\n      width: 320,\n      height: 36,\n      marginLeft: 10,\n      marginTop: 0\n    },\n    sendLayout: {\n      flexDirection: 'row',\n      justifyContent: 'center',\n      alignSelf: \"center\"\n    }\n  });\n  return _jsxs(ImageBackground, {\n    source: require(\"../../../../assets/visualcontent/background_8.png\"),\n    style: styles.backgroundImage,\n    children: [_jsx(View, {\n      style: styles.headerContainer,\n      children: listPublications.map(function (publication) {\n        return _jsx(View, {\n          style: styles.iconsLayout,\n          children: _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return handleGoToScreenUser(publication.idUser.uuid);\n            },\n            style: styles.userLink,\n            children: _jsx(View, {\n              style: styles.postHeader,\n              children: _jsx(Image, {\n                source: {\n                  uri: publication.idUser.photoUser\n                },\n                style: styles.postProfileImg,\n                resizeMode: \"cover\"\n              })\n            })\n          })\n        }, publication.uuid);\n      })\n    }), _jsx(View, {\n      style: styles.limitedContainer,\n      children: _jsx(ScrollView, {\n        children: _jsxs(View, {\n          children: [_jsx(View, {\n            style: styles.feed,\n            children: listPublications.map(function (publication) {\n              var _publication$comments, _pageComments$publica;\n              return _jsxs(View, {\n                style: styles.post,\n                children: [_jsx(TouchableOpacity, {\n                  onPress: function onPress() {\n                    return handleGoToScreenUser(publication.idUser.uuid);\n                  },\n                  style: styles.userLink,\n                  children: _jsxs(View, {\n                    style: styles.postHeader,\n                    children: [_jsx(Image, {\n                      source: {\n                        uri: publication.idUser.photoUser\n                      },\n                      style: styles.postProfileImg,\n                      resizeMode: \"cover\"\n                    }), _jsxs(View, {\n                      style: styles.postInfo,\n                      children: [_jsx(Text, {\n                        style: styles.postUsernameHeader,\n                        children: publication.idUser.appUser\n                      }), _jsx(Text, {\n                        style: styles.postTimestampHeader,\n                        children: new Date(publication.createdAt).toLocaleString()\n                      })]\n                    })]\n                  })\n                }), _jsx(View, {\n                  style: styles.postBody,\n                  children: publication.photoPublication.map(function (photo) {\n                    return _jsx(Image, {\n                      source: {\n                        uri: photo\n                      },\n                      style: styles.postImage,\n                      resizeMode: \"cover\"\n                    }, photo);\n                  })\n                }), _jsxs(View, {\n                  style: styles.heartMessageLayout,\n                  children: [_jsx(MaterialCommunityIcons, {\n                    name: \"heart\",\n                    size: 20,\n                    color: \"#fb3958\"\n                  }), _jsx(TouchableOpacity, {\n                    onPress: function onPress() {\n                      handleToggleCommentForm(publication.uuid.toString());\n                    },\n                    children: _jsx(MaterialCommunityIcons, {\n                      style: {\n                        marginLeft: 4\n                      },\n                      name: \"comment\",\n                      size: 20,\n                      color: \"#66fcf1\"\n                    })\n                  })]\n                }), _jsx(Text, {\n                  style: styles.postText,\n                  children: publication.textPublication\n                }), _jsxs(View, {\n                  style: styles.commentContainer,\n                  children: [_jsx(TouchableOpacity, {\n                    style: styles.showHide,\n                    onPress: function onPress() {\n                      getComments(publication.uuid.toString());\n                    },\n                    children: _jsxs(Text, {\n                      style: styles.showHideText,\n                      children: [commentsVisibility[publication.uuid], \" \", commentButton[publication.uuid], \" \", _jsx(Text, {\n                        style: styles.showHideTextNumber,\n                        children: (_publication$comments = publication.commentsPublication) == null ? void 0 : _publication$comments.length\n                      })]\n                    })\n                  }), showCommentForm[publication.uuid] && _jsxs(View, {\n                    children: [_jsx(StyledTextInputs, {\n                      style: styles.input,\n                      placeholder: \"Write a Comment\",\n                      value: commentText[publication.uuid],\n                      onChangeText: function onChangeText(event) {\n                        return handleInputChange(event, publication.uuid.toString());\n                      }\n                    }), _jsx(TouchableOpacity, {\n                      style: styles.buttonSendComment,\n                      onPress: function onPress(event) {\n                        return handleSubmit(event, publication.uuid.toString());\n                      },\n                      children: _jsxs(View, {\n                        style: styles.sendLayout,\n                        children: [_jsx(Text, {\n                          style: styles.textButtonSend,\n                          children: \" Send\"\n                        }), _jsx(MaterialCommunityIcons, {\n                          style: styles.ButtonSend,\n                          name: \"send\",\n                          size: 20\n                        })]\n                      })\n                    })]\n                  })]\n                }), commentsVisibility[publication.uuid] && _jsxs(View, {\n                  children: [listCommentsPublication[publication.uuid].map(function (comment) {\n                    return _jsx(TouchableOpacity, {\n                      style: styles.commentContainer,\n                      children: _jsxs(View, {\n                        style: styles.userComment,\n                        children: [comment.idUserComment.photoUser ? _jsx(Image, {\n                          source: {\n                            uri: comment.idUserComment.photoUser\n                          },\n                          style: styles.commentProfileImg\n                        }) : _jsx(Image, {\n                          source: {\n                            uri: \"https://pbs.twimg.com/profile_images/1354463303486025733/Bn-iEeUO_400x400.jpg\"\n                          },\n                          style: styles.commentProfileImg\n                        }), _jsxs(View, {\n                          style: styles.userInfo,\n                          children: [_jsxs(Text, {\n                            style: styles.userName,\n                            children: [\"@\", comment.idUserComment.appUser]\n                          }), _jsx(Text, {\n                            style: styles.commentText,\n                            children: comment.textComment\n                          })]\n                        })]\n                      })\n                    }, comment.uuid);\n                  }), publication.commentsPublication && publication.commentsPublication.length > ((_pageComments$publica = pageComments[publication == null ? void 0 : publication.uuid]) != null ? _pageComments$publica : 0) * 2 ? _jsx(TouchableOpacity, {\n                    style: styles.showMoreCommentsButton,\n                    onPress: function onPress() {\n                      showMoreComments(publication.uuid);\n                    },\n                    children: _jsx(MaterialCommunityIcons, {\n                      style: styles.showMoreCommentsButtonIcon,\n                      name: \"plus\",\n                      size: 16\n                    })\n                  }) : _jsx(Text, {})]\n                })]\n              }, publication.uuid);\n            })\n          }), _jsx(TouchableOpacity, {\n            style: styles.loadMoreButton,\n            onPress: function onPress() {\n              handleLoadMore;\n            },\n            children: _jsx(Text, {\n              style: styles.loadMoreButtonText,\n              children: \"Load More\"\n            })\n          })]\n        })\n      })\n    })]\n  });\n}\n;","map":{"version":3,"names":["useEffect","useState","ScrollView","View","Text","TouchableOpacity","Image","StyleSheet","ImageBackground","Platform","SessionService","PublicationService","useFocusEffect","useNavigation","CRUDService","React","CommentService","StyledTextInputs","MaterialCommunityIcons","Font","useSpring","jsx","_jsx","jsxs","_jsxs","loadFonts","_loadFonts","apply","arguments","_asyncToGenerator","loadAsync","require","FeedScreen","navigation","_useState","_useState2","_slicedToArray","currentUser","setCurrentUser","_useState3","_useState4","listPublications","setListPublications","_useState5","_useState6","numPagePublication","setNumPagePublication","_useState7","_useState8","commentsVisibility","setCommentsVisibility","_useState9","_useState10","pageComments","setPageComments","_useState11","_useState12","commentButton","setCommentButton","_useState13","_useState14","listCommentsPublication","setListCommentsPublication","_useState15","_useState16","showCommentForm","setShowCommentForm","_useState17","_useState18","commentText","setCommentText","_useState19","_useState20","recargar","setRecargar","_useState21","_useState22","userList","setUserList","_useState23","_useState24","numPublications","setNumPublications","_useState25","_useState26","hasLiked","setHasLiked","_useState27","_useState28","fontsLoaded","setFontsLoaded","then","titleFont","select","ios","android","bodyFont","useCallback","console","log","fetchData","_ref","userId","getCurrentUser","response","getUser","data","feed","toString","initialVisibility","reduce","acc","publication","uuid","initialPage","initialCommentButton","initialListComments","initialCommentText","initialShowLikes","_publication$likesPub","likesPublication","includes","catch","error","numPublicationsFollowing","handleSearch","_ref2","query","length","searchUsers","getUsers","_x","_x2","handleSearchWrapper","searchText","handleGoToScreenUser","navigate","handleLoadMore","_ref3","prevPage","prevPublications","concat","_toConsumableArray","getComments","idPublication","prevVisibility","updatedVisibility","_objectSpread","_defineProperty","prevCommentButton","getCommentsPublication","prevListComments","prevPageComments","showMoreComments","handleToggleCommentForm","prevShowComments","handleInputChange","event","prevCommentText","handleSubmit","_ref4","preventDefault","comment","idUserComment","idPublicationComment","textComment","createComment","handleLike","_ref5","prevLikes","deleteLike","updateLike","_x5","heartAnimation","from","opacity","y","to","_x3","_x4","styles","create","flexDirection","alignItems","iconsLayout","marginRight","headerContainer","marginLeft","marginTop","marginBottom","limitedContainer","post","flex","flexGrow","height","width","justifyContent","borderRadius","borderWidth","userLink","padding","backgroundImage","resizeMode","postHeader","display","fontFamily","postProfileImg","postInfo","textAlign","postUsernameHeader","fontSize","fontWeight","color","postTimestampHeader","postBody","postImage","postText","heartMessageLayout","postComments","showHide","alignSelf","showHideText","showHideTextNumber","inputComment","alignContent","buttonSendComment","textButtonSend","ButtonSend","commentContainer","userComment","commentProfileImg","userInfo","userName","showMoreCommentsButton","showMoreCommentsButtonIcon","showMoreCommentsButtonDisabled","margin","backgroundColor","cursor","loadMoreButton","loadMoreButtonText","input","sendLayout","source","style","children","map","onPress","idUser","uri","photoUser","_publication$comments","_pageComments$publica","appUser","Date","createdAt","toLocaleString","photoPublication","photo","name","size","textPublication","commentsPublication","placeholder","value","onChangeText"],"sources":["C:/Users/eloim/OneDrive/Uni/4B/EA/ProyectoEA/Frontend_/FrontEnd_EA_App/src/infrastructure/UI/screens/feed.screen.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { ScrollView, View, Text, TouchableOpacity, Image, StyleSheet, TextInput, ImageBackground, Platform } from \"react-native\";\r\nimport { Publication, PublicationEntity } from \"../../../domain/publication/publication.entity\";\r\nimport { SessionService } from \"../../services/user/session.service\";\r\nimport { PublicationService } from \"../../services/publication/publication.service\";\r\nimport { useFocusEffect, useNavigation } from \"@react-navigation/native\";\r\nimport { UserEntity } from \"../../../domain/user/user.entity\";\r\nimport { CRUDService } from \"../../services/user/CRUD.service\";\r\nimport React from \"react\";\r\nimport { CommentService } from \"../../services/comment/comment.service\";\r\nimport { AuthHeaderService } from \"../../services/user/authHeaders.service\";\r\nimport { CommentEntity } from \"../../../domain/comment/comment.entity\";\r\nimport FontAwesome from \"react-native-vector-icons/FontAwesome\";\r\nimport StyledTextInputs from \"../components/inputs/StyledTextInputs\";\r\nimport MaterialCommunityIcons from 'react-native-vector-icons/MaterialCommunityIcons';\r\nimport { Fontisto } from '@expo/vector-icons';\r\nimport * as Font from 'expo-font';\r\nimport { useSpring, animated } from 'react-spring';\r\n\r\nasync function loadFonts() {\r\n  await Font.loadAsync({\r\n    'Rafaella': require('../../../../assets/fonts/Rafaella.ttf'),\r\n    'SFNS': require('../../../../assets/fonts/SFNS.otf'),\r\n  });\r\n}\r\n\r\nexport default function FeedScreen() {\r\n  const navigation = useNavigation();\r\n  const [currentUser, setCurrentUser] = useState<UserEntity | null>(null);\r\n  const [listPublications, setListPublications] = useState<Publication[]>([]);\r\n  const [numPagePublication, setNumPagePublication] = useState<number>(1);\r\n  const [commentsVisibility, setCommentsVisibility] = useState<{[key: string]: boolean; }>({});\r\n  const [pageComments, setPageComments] = useState<{ [key: string]: number }>({});\r\n  const [commentButton, setCommentButton] = useState<{ [key: string]: string }>({});\r\n  const [listCommentsPublication, setListCommentsPublication] = useState<{ [key: string]: CommentEntity[] }>({});\r\n  const [showCommentForm, setShowCommentForm] = useState<{[key: string]: boolean; }>({});\r\n  const [commentText, setCommentText] = useState<{ [key: string]: string }>({});\r\n  const [recargar, setRecargar] = useState<string>('');\r\n  const [userList, setUserList] = useState<UserEntity[] | null>(null);\r\n  const [numPublications, setNumPublications] = useState<number>(0);\r\n  const [hasLiked, setHasLiked] = useState<{[key: string]: boolean; }>({});\r\n\r\n\r\n  const [fontsLoaded, setFontsLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadFonts().then(() => {\r\n      setFontsLoaded(true);\r\n    });\r\n  }, []);\r\n\r\n  const titleFont = Platform.select({\r\n    ios: 'Rafaella',\r\n    android: 'Rafaella',\r\n  });\r\n  const bodyFont = Platform.select({\r\n    ios: 'SFNS',\r\n    android: 'SFNS',\r\n  });\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      console.log(\"Iniciamos feed\");\r\n      const fetchData = async () => {\r\n        const userId = await SessionService.getCurrentUser();\r\n        if (userId) {\r\n          try {\r\n            const response = await CRUDService.getUser(userId);\r\n            console.log(\"Punto 1:\", response);\r\n            console.log(response?.data);\r\n            setCurrentUser(response?.data);\r\n  \r\n            PublicationService.feed(numPagePublication.toString(), userId)\r\n              .then((response) => {\r\n                console.log(response);\r\n                console.log(response.data);\r\n                console.log(\"userId\", userId);\r\n  \r\n                const initialVisibility = response.data.reduce(\r\n                  (acc: { [key: string]: boolean }, publication: Publication) => {\r\n                    acc[publication.uuid] = false;\r\n                    return acc;\r\n                  },\r\n                  {}\r\n                );\r\n                setCommentsVisibility(initialVisibility);\r\n  \r\n                const initialPage = response.data.reduce(\r\n                  (acc: { [key: string]: number }, publication: Publication) => {\r\n                    acc[publication.uuid] = 1;\r\n                    return acc;\r\n                  },\r\n                  {}\r\n                );\r\n                setPageComments(initialPage);\r\n  \r\n                const initialCommentButton = response.data.reduce(\r\n                  (acc: { [key: string]: string }, publication: Publication) => {\r\n                    acc[publication.uuid] = \"Show Comments\";\r\n                    return acc;\r\n                  },\r\n                  {}\r\n                );\r\n                setCommentButton(initialCommentButton);\r\n  \r\n                const initialListComments = response.data.reduce(\r\n                  (acc: { [key: string]: Comment[] }, publication: Publication) => {\r\n                    acc[publication.uuid] = [];\r\n                    return acc;\r\n                  },\r\n                  {}\r\n                );\r\n                setListCommentsPublication(initialListComments);\r\n\r\n                const initialCommentText= response.data.reduce(\r\n                  (acc: { [key: string]: string }, publication: Publication) => {\r\n                    acc[publication.uuid] = \"\";\r\n                    return acc;\r\n                  },\r\n                  {}\r\n                );\r\n                setCommentText(initialCommentText);\r\n\r\n                const initialShowLikes = response.data.reduce(\r\n                  (acc: { [key: string]: boolean }, publication: Publication) => {\r\n                    const hasLiked = publication.likesPublication?.includes(userId) || false;\r\n                    acc[publication.uuid] = hasLiked;\r\n                    return acc;\r\n                  },\r\n                  {}\r\n                );\r\n                setHasLiked(initialShowLikes);\r\n  \r\n                setListPublications(response.data);\r\n              })\r\n              .catch(error => {\r\n                //navigation.navigate('NotFoundScreen' as never);\r\n                console.log(error)\r\n              });\r\n              PublicationService.numPublicationsFollowing(userId)\r\n              .then((response) => {\r\n                console.log(response);\r\n                console.log(response.data);\r\n                setNumPublications(response.data);\r\n              })\r\n          } catch (error) {\r\n            console.log(\"Encontre el id pero no va\")\r\n          }\r\n        }\r\n      };\r\n      fetchData();\r\n    }, [numPagePublication, recargar])\r\n  );\r\n\r\n  const handleSearch = async (query: string, setUserList: (users: UserEntity[]) => void) => {\r\n    console.log('He entrado en handleSearch.');\r\n    if (query.length > 0) {\r\n      try {\r\n        const response = await CRUDService.searchUsers(query);\r\n        console.log(response);\r\n        setUserList(response?.data);\r\n        console.log('He hecho el servicio de handleSearch.');\r\n        console.log('>> Lista de usuarios: ' + userList);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    } else {\r\n      try {\r\n        const response = await CRUDService.getUsers();\r\n        setUserList(response?.data);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSearchWrapper = (searchText: string) => {\r\n    handleSearch(searchText, setUserList);\r\n  };\r\n  \r\n  const handleGoToScreenUser = (uuid:string) => {\r\n    navigation.navigate(\"UserScreen\" as never, {uuid} as never);\r\n  };\r\n\r\n  const handleLoadMore = async () => {\r\n    console.log(\"Has pulsado el btn\");\r\n    setNumPagePublication((prevPage) => prevPage + 1);\r\n    const userId = await SessionService.getCurrentUser();\r\n    console.log(\"HandleLoadMore:\" + numPagePublication);\r\n    if(userId){\r\n      PublicationService.feed((numPagePublication).toString(), userId)\r\n      .then(response => {\r\n        console.log(response);\r\n        console.log(response.data);\r\n        setListPublications(prevPublications => [...prevPublications, ...response.data]);\r\n      }) .catch(error => {\r\n        //navigation.navigate('NotFoundScreen');\r\n        console.log(error);\r\n      });\r\n    }\r\n  };\r\n\r\n  const getComments = (idPublication: string) => {\r\n    console.log(\"Ver comentarios\");\r\n    console.log(\"idPublication: \" + idPublication);\r\n    console.log(\r\n      \"commentsVisibility[PublicationId]=\" + commentsVisibility[idPublication]\r\n    );\r\n    console.log(\"pageComments[PublicationId]=\" + pageComments[idPublication]);\r\n    setCommentsVisibility((prevVisibility) => {\r\n      const updatedVisibility = {\r\n        ...prevVisibility,\r\n        [idPublication]: !prevVisibility[idPublication],\r\n      };\r\n      console.log(\"second \" + updatedVisibility[idPublication]);\r\n\r\n      if (updatedVisibility[idPublication]) {\r\n        setCommentButton((prevCommentButton) => ({\r\n          ...prevCommentButton,\r\n          [idPublication]: (prevCommentButton[idPublication] = \"Hide Comments\"),\r\n        }));\r\n        console.log(\"Entro a hide\");\r\n        CommentService.getCommentsPublication(idPublication, (pageComments[idPublication]).toString())\r\n        .then(response => {\r\n          console.log(response);\r\n          console.log(response.data);\r\n          setListCommentsPublication(prevListComments => ({\r\n            ...prevListComments,\r\n            [idPublication]: response.data\r\n          }));\r\n        })\r\n        .catch(error => {\r\n          //navigation.navigate('NotFoundScreen' as never);\r\n        });\r\n      } else {\r\n        setCommentButton((prevCommentButton) => ({\r\n          ...prevCommentButton,\r\n          [idPublication]: (prevCommentButton[idPublication] = \"Show Comments\"),\r\n        }));\r\n        console.log(\"Entro a show\");\r\n        setListCommentsPublication((prevListComments) => ({\r\n          ...prevListComments,\r\n          [idPublication]: [],\r\n        }));\r\n        setPageComments((prevPageComments) => ({\r\n          ...prevPageComments,\r\n          [idPublication]: (prevPageComments[idPublication] = 1),\r\n        }));\r\n      }\r\n      return updatedVisibility;\r\n    });\r\n    console.log(\"Page comentarios:\" + pageComments[idPublication]);\r\n  };\r\n\r\n\r\n  const showMoreComments = (idPublication: string) => {\r\n    console.log(\"Ver más comentarios\");\r\n    setPageComments((prevPageComments) => ({\r\n      ...prevPageComments,\r\n      [idPublication]: prevPageComments[idPublication] + 1,\r\n    }));\r\n    CommentService.getCommentsPublication(\r\n      idPublication,\r\n      (pageComments[idPublication] + 1).toString()\r\n    )\r\n      .then((response) => {\r\n        console.log(response);\r\n        console.log(response.data);\r\n        setListCommentsPublication((prevListComments) => ({\r\n          ...prevListComments,\r\n          [idPublication]: [\r\n            ...prevListComments[idPublication],\r\n            ...response.data,\r\n          ],\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        //navigation.navigate(\"\");\r\n        console.log(error)\r\n      });\r\n  };\r\n\r\n  //Para escribir respuesta a publicación\r\n  const handleToggleCommentForm = (idPublication:string) => {\r\n    setShowCommentForm((prevShowComments) => ({\r\n      ...prevShowComments,\r\n      [idPublication]: !prevShowComments[idPublication],\r\n    }));\r\n  };\r\n\r\n  const handleInputChange = (event:string, idPublication:string) => {\r\n    setCommentText((prevCommentText) => ({\r\n      ...prevCommentText,\r\n      [idPublication]: prevCommentText[idPublication] = event,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (event:any, idPublication:string) => {\r\n    event.preventDefault();\r\n\r\n    // Lógica para enviar el comentario a la publicación\r\n    const userId = await SessionService.getCurrentUser();\r\n\r\n    if(userId){\r\n      const comment:CommentEntity = {\r\n        idUserComment: userId,\r\n        idPublicationComment: idPublication,\r\n        textComment: commentText[idPublication],\r\n      };\r\n\r\n      CommentService.createComment(comment)\r\n        .then((response) => {\r\n          console.log(response);\r\n          console.log(response.data);\r\n          setRecargar(\"recargate\");\r\n        })\r\n        .catch(error => {\r\n          //navigation.navigate(\"\");\r\n          console.log(error);\r\n        });\r\n  \r\n    }\r\n    \r\n    setCommentText((prevCommentText) => ({\r\n      ...prevCommentText,\r\n      [idPublication]: prevCommentText[idPublication] = \"\",\r\n    }));\r\n\r\n\r\n    const handleLike = async (idPublication:string) => {\r\n\r\n      console.log(\"Handle Like\" + idPublication);\r\n      console.log(\"Handle Like\" + hasLiked[idPublication]);\r\n      const userId = await SessionService.getCurrentUser();\r\n      if(userId){\r\n        if(hasLiked[idPublication]){\r\n  \r\n          setHasLiked((prevLikes) => ({\r\n            ...prevLikes,\r\n            [idPublication]: !prevLikes[idPublication],\r\n          }));\r\n          console.log(\"Handle Like True: \" + hasLiked[idPublication]);\r\n          PublicationService.deleteLike(idPublication, userId)\r\n          .then((response) => {\r\n            console.log(response);\r\n            console.log(response.data);\r\n            setRecargar(\"recargate\");\r\n            console.log(\"Se ha recargado\");\r\n          })\r\n          .catch(error => {\r\n            navigation.navigate(\"NotFoundScreen\" as never);\r\n          });\r\n    \r\n        }else{\r\n          setHasLiked((prevLikes) => ({\r\n            ...prevLikes,\r\n            [idPublication]: !prevLikes[idPublication],\r\n          }));\r\n          console.log(\"Handle Like False: \" + hasLiked[idPublication]);\r\n  \r\n          \r\n          PublicationService.updateLike(idPublication, userId)\r\n          .then((response) => {\r\n            console.log(response);\r\n            console.log(response.data);\r\n            setRecargar(\"recargate\");\r\n            console.log(\"Se ha recargado\");\r\n          })\r\n          .catch(error => {\r\n            navigation.navigate(\"NotFoundScreen\" as never);\r\n          });\r\n        }\r\n      }\r\n  \r\n    }\r\n  \r\n    const heartAnimation = useSpring({\r\n      from: { opacity: 0, y: 0 },\r\n      to: { opacity: hasLiked ? 1 : 0, y: hasLiked ? -100 : 0 },\r\n    });\r\n  \r\n\r\n\r\n  };\r\n\r\n  const styles = StyleSheet.create({\r\n    feed: {\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    iconsLayout: {\r\n      flexDirection: 'row',\r\n      marginRight: 0,\r\n    },\r\n    headerContainer: {\r\n      flexDirection: 'row',\r\n      marginLeft: 10,\r\n      marginTop: 6,\r\n      marginRight:10,\r\n      marginBottom: 6,\r\n    },\r\n    limitedContainer: {\r\n      marginTop: 0,\r\n    },\r\n    post: {\r\n      flex:1,\r\n      flexGrow:1,\r\n      height: '100%',\r\n      flexDirection: 'column',\r\n      width: 340,\r\n      justifyContent: 'flex-start',\r\n      borderRadius: 20,\r\n      borderWidth: 1,\r\n      marginBottom: 6,\r\n    },\r\n    userLink: {\r\n      alignItems: 'center',\r\n      padding: 10,\r\n    },\r\n    backgroundImage: {\r\n      flex: 1,\r\n      resizeMode: 'cover',\r\n    },\r\n    postHeader: {\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      alignItems: 'center',\r\n      fontFamily: bodyFont,\r\n      justifyContent: 'flex-start',\r\n      marginTop: 0,\r\n      marginBottom: 0,\r\n    },\r\n    postProfileImg: {\r\n      width: 50,\r\n      height: 50,\r\n      resizeMode: 'cover',\r\n      marginRight: 10,\r\n      borderRadius: 50,\r\n    },\r\n    postInfo: {\r\n      flex: 1,\r\n      fontFamily: bodyFont,\r\n      textAlign: 'left',\r\n    },\r\n    postUsernameHeader: {\r\n      fontSize: 22,\r\n      fontWeight: 'bold',\r\n      marginBottom: 0,\r\n      fontFamily: bodyFont,\r\n      marginTop: 0,\r\n      marginLeft: 0,\r\n      color: '#66fcf1',\r\n    },\r\n    postTimestampHeader: {\r\n      fontSize: 14,\r\n      color: '#fff',\r\n      marginLeft: 0,\r\n      fontFamily: bodyFont,\r\n      marginTop: 0,\r\n    },\r\n    postBody: {\r\n      alignItems: 'center',\r\n      padding: 10,\r\n    },\r\n    postImage: {\r\n      alignItems: 'center',\r\n      padding: 0,\r\n      marginTop: -8,\r\n      width: 320, \r\n      height: 320,\r\n    },\r\n    postText: {\r\n      textAlign: 'left',\r\n      fontSize: 22,\r\n      color: '#fff',\r\n      fontFamily: bodyFont,\r\n      marginTop: 2,\r\n      marginBottom: 6,\r\n      marginLeft: 10,\r\n    },\r\n    heartMessageLayout: {\r\n      textAlign: 'left',\r\n      fontSize: 22,\r\n      color: '#000',\r\n      flexDirection: 'row',\r\n      fontFamily: bodyFont,\r\n      marginTop: 0,\r\n      marginBottom: 6,\r\n      marginLeft: 10,\r\n    },\r\n    postComments:{\r\n      display:'flex',\r\n      flexDirection:'column',\r\n      fontFamily: bodyFont,\r\n      height:'flex',\r\n      justifyContent:'flex-start',\r\n      marginTop:0,\r\n      marginBottom: 10,\r\n    },\r\n    showHide:{\r\n      marginTop: -6,\r\n      marginBottom: 4,\r\n      padding: 6,\r\n      fontFamily: bodyFont,\r\n      borderWidth: 0,\r\n      textAlign: \"center\",\r\n      alignSelf: \"center\",\r\n    },\r\n    showHideText:{\r\n      fontFamily: bodyFont,\r\n      fontSize: 16,\r\n      color: '#66fcf1',\r\n    },\r\n    showHideTextNumber: {\r\n      fontFamily: bodyFont,\r\n      fontSize: 16,\r\n      color: 'yellow',\r\n    },\r\n    inputComment:{\r\n      borderWidth: 0,\r\n      height:70,\r\n      width: 200,\r\n      flex:1,\r\n      alignContent:'center',\r\n      fontFamily: bodyFont,\r\n    },\r\n    buttonSendComment:{\r\n  \r\n    },\r\n    textButtonSend:{\r\n      fontFamily: bodyFont,\r\n      fontSize: 16,\r\n      color: '#66fcf1',\r\n      marginTop: 8,\r\n      textAlign: \"center\",\r\n      marginRight: 4,\r\n    },\r\n    ButtonSend:{\r\n      fontFamily: bodyFont,\r\n      fontSize: 16,\r\n      color: 'yellow',\r\n      marginTop: 8,\r\n      textAlign: \"center\",\r\n    },\r\n    commentContainer:{\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      flex: 1,\r\n      justifyContent: \"flex-start\",\r\n      marginTop: 0,\r\n      marginBottom: 10,\r\n    }, \r\n    userComment:{\r\n      display: \"flex\",\r\n      fontFamily: bodyFont,\r\n      justifyContent: \"flex-start\",\r\n      borderWidth: 0,\r\n      marginTop:-6,\r\n    }, \r\n    commentProfileImg:{\r\n  \r\n    }, \r\n    userInfo:{\r\n  \r\n  \r\n    }, \r\n    userName:{\r\n      borderWidth: 0,\r\n      fontFamily: bodyFont,\r\n      color: \"yellow\",\r\n      fontSize: 16,\r\n      marginBottom: 0,\r\n      marginLeft: 10,\r\n    }, \r\n    commentText:{\r\n      fontSize: 14,\r\n      marginTop: 0,\r\n      fontFamily: bodyFont,\r\n      marginBottom: 0,\r\n      color: \"#ffffff\",\r\n      marginLeft: 10,\r\n    },\r\n    showMoreCommentsButton:{\r\n      marginTop: 2,\r\n      marginBottom: 14,\r\n      borderWidth: 0,\r\n      textAlign: \"center\",\r\n      alignSelf: \"center\",\r\n    },\r\n    showMoreCommentsButtonIcon:{\r\n      color: \"#66fcf1\"\r\n    },\r\n    showMoreCommentsButtonDisabled:{\r\n      margin: 18,\r\n      marginTop: 0,\r\n      marginBottom: 46,\r\n      padding: 6,\r\n      backgroundColor: \"#66fcf27e\",\r\n      borderWidth: 0,\r\n      borderRadius: 20,\r\n      width: 100,\r\n      textAlign: \"center\",\r\n      alignSelf: \"center\",\r\n      cursor: \"not-allowed\",\r\n    },\r\n    loadMoreButton: {\r\n      margin: 6,\r\n      padding: 6,\r\n      backgroundColor: \"#66fcf1\",\r\n      borderRadius: 20,\r\n      width: 100,\r\n      height: 36,\r\n      justifyContent: 'center',\r\n      alignSelf: \"center\",\r\n      marginBottom: 96,\r\n    },\r\n    loadMoreButtonText: {\r\n      textAlign: 'center',\r\n      fontFamily: bodyFont,\r\n      fontSize: 16,\r\n      color: '#000',\r\n      marginTop: 0,\r\n      marginBottom: 0,\r\n    },\r\n    input: {\r\n      width: 320,\r\n      height: 36,\r\n      marginLeft: 10,\r\n      marginTop:0,\r\n    },\r\n    sendLayout: {\r\n      flexDirection: 'row',\r\n      justifyContent: 'center',\r\n      alignSelf: \"center\",\r\n    }\r\n  });\r\n\r\n  return (\r\n    <ImageBackground source={require('../../../../assets/visualcontent/background_8.png')} style={styles.backgroundImage}>\r\n      <View style={styles.headerContainer}>\r\n        {listPublications.map((publication) => (\r\n          <View style={styles.iconsLayout} key={publication.uuid}>\r\n            <TouchableOpacity onPress={() => handleGoToScreenUser(publication.idUser.uuid)} style={styles.userLink}>\r\n              <View style={styles.postHeader}>\r\n                <Image source={{ uri: publication.idUser.photoUser }} style={styles.postProfileImg} resizeMode=\"cover\" />\r\n              </View>\r\n            </TouchableOpacity>\r\n          </View>\r\n        ))}\r\n      </View>\r\n      <View style={styles.limitedContainer}>\r\n        <ScrollView>\r\n          <View>\r\n            <View style={styles.feed}>\r\n              {listPublications.map((publication) => (\r\n              <View style={styles.post} key={publication.uuid}>\r\n                <TouchableOpacity\r\n                  onPress={() => handleGoToScreenUser(publication.idUser.uuid)}\r\n                  style={styles.userLink}\r\n                >\r\n                  <View style={styles.postHeader}>\r\n                    <Image\r\n                      source={{ uri: publication.idUser.photoUser }}\r\n                      style={styles.postProfileImg}\r\n                      resizeMode=\"cover\"\r\n                    />\r\n                    <View style={styles.postInfo}>\r\n                      <Text style={styles.postUsernameHeader}>{publication.idUser.appUser}</Text>\r\n                      <Text style={styles.postTimestampHeader}>{new Date(publication.createdAt).toLocaleString()}</Text>\r\n                    </View>\r\n                  </View>\r\n                </TouchableOpacity>\r\n                <View style={styles.postBody}>\r\n                  {publication.photoPublication.map((photo) => (\r\n                    <Image\r\n                      key={photo}\r\n                      source={{ uri: photo }}\r\n                      style={styles.postImage}\r\n                      resizeMode=\"cover\"\r\n                    />\r\n                  ))}\r\n                </View>\r\n                <View style={styles.heartMessageLayout}>\r\n                  <MaterialCommunityIcons name=\"heart\" size={20} color=\"#fb3958\" />\r\n                  <TouchableOpacity onPress={() => { handleToggleCommentForm(publication.uuid.toString()); }}>\r\n                    <MaterialCommunityIcons style={{ marginLeft: 4 }} name=\"comment\" size={20} color=\"#66fcf1\" />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <Text style={styles.postText}>{publication.textPublication}</Text>\r\n                <View style={styles.commentContainer}>\r\n                  <TouchableOpacity style={styles.showHide} onPress={() => {\r\n                    getComments(publication.uuid.toString());\r\n                    }}\r\n                    >\r\n                    <Text style={styles.showHideText}>\r\n                      {commentsVisibility[publication.uuid]}{\" \"}\r\n                      {commentButton[publication.uuid]}{\" \"}\r\n                      <Text style={styles.showHideTextNumber}>\r\n                        {publication.commentsPublication?.length}\r\n                      </Text>\r\n                    </Text>\r\n                  </TouchableOpacity>\r\n                  {showCommentForm[publication.uuid] && (\r\n                    <View>\r\n                      <StyledTextInputs style={styles.input} placeholder=\"Write a Comment\" value={commentText[publication.uuid]} onChangeText={(event:string) => handleInputChange(event, publication.uuid.toString())}/>\r\n                      <TouchableOpacity style={styles.buttonSendComment} onPress={(event) => handleSubmit(event, publication.uuid.toString())} >\r\n                        <View style={styles.sendLayout}>\r\n                          <Text style={styles.textButtonSend}> Send</Text>\r\n                          <MaterialCommunityIcons style={styles.ButtonSend} name=\"send\" size={20} />\r\n                        </View>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                  )}  \r\n                </View>\r\n                {commentsVisibility[publication.uuid] && (\r\n                  <View>\r\n                    {listCommentsPublication[publication.uuid].map((comment) => (\r\n                      <TouchableOpacity\r\n                        key={comment.uuid}\r\n                        //onPress={() => navigation.navigate('ProfileScreen', { userId: comment.idUserComment.uuid })}\r\n                        style={styles.commentContainer}\r\n                      >\r\n                        <View style={styles.userComment}>\r\n                          {comment.idUserComment.photoUser ? (\r\n                            <Image\r\n                              source={{ uri: comment.idUserComment.photoUser }}\r\n                              style={styles.commentProfileImg}\r\n                            />\r\n                          ) : (\r\n                            <Image\r\n                              source={{ uri: \"https://pbs.twimg.com/profile_images/1354463303486025733/Bn-iEeUO_400x400.jpg\" }}\r\n                              style={styles.commentProfileImg}\r\n                            />\r\n                          )}\r\n                          <View style={styles.userInfo}>\r\n                            <Text style={styles.userName}>@{comment.idUserComment.appUser}</Text>\r\n                            <Text style={styles.commentText}>{comment.textComment}</Text>\r\n                          </View>\r\n                        </View>\r\n                      </TouchableOpacity>\r\n                    ))}\r\n                    \r\n                    {publication.commentsPublication &&\r\n                        publication.commentsPublication.length >\r\n                          (pageComments[publication?.uuid] ?? 0) * 2 ? (\r\n                          <TouchableOpacity\r\n                            style={styles.showMoreCommentsButton}\r\n                            onPress={() => {\r\n                              showMoreComments(publication.uuid);\r\n                            }}\r\n                          >\r\n                            <MaterialCommunityIcons style={styles.showMoreCommentsButtonIcon} name=\"plus\" size={16} />\r\n                          </TouchableOpacity>\r\n                        ) : (\r\n                          <Text></Text>\r\n                    )}                \r\n                  </View>\r\n                )}\r\n              </View>\r\n              ))}\r\n            </View>\r\n            <TouchableOpacity style={styles.loadMoreButton} onPress={() => {handleLoadMore}}>\r\n              <Text style={styles.loadMoreButtonText}>Load More</Text>\r\n            </TouchableOpacity>\r\n\r\n          </View>\r\n        </ScrollView>\r\n      </View>\r\n    </ImageBackground>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}