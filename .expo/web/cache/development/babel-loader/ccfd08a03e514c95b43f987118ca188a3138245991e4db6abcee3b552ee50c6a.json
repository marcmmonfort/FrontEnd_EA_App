{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport axios from \"axios\";\nimport { AuthHeaderService } from \"./authHeaders.service\";\nvar API_URL = \"http://147.83.7.158:5432/\";\nexport var CRUDService = function () {\n  function CRUDService() {\n    _classCallCheck(this, CRUDService);\n  }\n  _createClass(CRUDService, null, [{\n    key: \"getUser\",\n    value: function () {\n      var _getUser = _asyncToGenerator(function* (userId) {\n        console.log(userId);\n        var token = yield AuthHeaderService.authHeader();\n        if (token) {\n          try {\n            console.log(\"Hola token\");\n            var response = yield axios.get(API_URL + \"user/\" + userId, {\n              headers: token\n            });\n            return response;\n          } catch (error) {\n            console.error(\"Error during register:\", error);\n            throw error;\n          }\n        } else console.log(\"Token problemas\");\n      });\n      function getUser(_x) {\n        return _getUser.apply(this, arguments);\n      }\n      return getUser;\n    }()\n  }]);\n  return CRUDService;\n}();","map":{"version":3,"names":["axios","AuthHeaderService","API_URL","CRUDService","_classCallCheck","_createClass","key","value","_getUser","_asyncToGenerator","userId","console","log","token","authHeader","response","get","headers","error","getUser","_x","apply","arguments"],"sources":["C:/Users/eloim/OneDrive/Uni/4B/EA/ProyectoEA/Frontend_/FrontEnd_EA_App/src/infrastructure/services/user/CRUD.service.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport { AuthHeaderService } from \"./authHeaders.service\";\r\n\r\n\r\nconst API_URL = \"http://147.83.7.158:5432/\";\r\n\r\nexport class CRUDService{\r\n    static async getUser(userId: string) {\r\n        console.log(userId);\r\n        const token=await AuthHeaderService.authHeader()\r\n        if(token){\r\n          try {\r\n            console.log(\"Hola token\")\r\n            const response = await axios.get(API_URL + \"user/\"+ userId,{ headers:  token});\r\n            return response;\r\n          } catch (error) {\r\n            console.error(\"Error during register:\", error);\r\n            throw error;\r\n          }\r\n        }else(console.log(\"Token problemas\"))\r\n    } \r\n}\r\n/**\r\n * const getUser = async () => {\r\n        const userId = await SessionService.getCurrentUser();\r\n        console.log(\"BBBBBBBBBBBB:  \"+userId);\r\n        if (userId) {\r\n          try {\r\n            await CRUDService.getUser(userId)\r\n            .then((response) => {\r\n              console.log(\"Punto 1:\"+response);\r\n              console.log(response.data);\r\n              setCurrentUser(response.data);\r\n            })\r\n          } catch (error) {\r\n            console.log(\"Encontre el id pero no va\")\r\n          }\r\n}\r\n      };\r\n */\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,iBAAiB;AAG1B,IAAMC,OAAO,GAAG,2BAA2B;AAE3C,WAAaC,WAAW;EAAA,SAAAA,YAAA;IAAAC,eAAA,OAAAD,WAAA;EAAA;EAAAE,YAAA,CAAAF,WAAA;IAAAG,GAAA;IAAAC,KAAA;MAAA,IAAAC,QAAA,GAAAC,iBAAA,CACpB,WAAqBC,MAAc,EAAE;QACjCC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;QACnB,IAAMG,KAAK,SAAOZ,iBAAiB,CAACa,UAAU,CAAC,CAAC;QAChD,IAAGD,KAAK,EAAC;UACP,IAAI;YACFF,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;YACzB,IAAMG,QAAQ,SAASf,KAAK,CAACgB,GAAG,CAACd,OAAO,GAAG,OAAO,GAAEQ,MAAM,EAAC;cAAEO,OAAO,EAAGJ;YAAK,CAAC,CAAC;YAC9E,OAAOE,QAAQ;UACjB,CAAC,CAAC,OAAOG,KAAK,EAAE;YACdP,OAAO,CAACO,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;YAC9C,MAAMA,KAAK;UACb;QACF,CAAC,MAAKP,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;MACxC,CAAC;MAAA,SAAAO,QAAAC,EAAA;QAAA,OAAAZ,QAAA,CAAAa,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAH,OAAA;IAAA;EAAA;EAAA,OAAAhB,WAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}