{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport axios from \"axios\";\nimport { AuthHeaderService } from \"../user/authHeaders.service\";\nvar API_URL = \"http://147.83.7.158:5432/location\";\nexport var LocationService = function () {\n  function LocationService() {\n    _classCallCheck(this, LocationService);\n  }\n  _createClass(LocationService, null, [{\n    key: \"getLocations\",\n    value: function () {\n      var _getLocations = _asyncToGenerator(function* () {\n        var token = yield AuthHeaderService.authHeader();\n        if (token) {\n          try {\n            var response = yield axios.get(\"http://147.83.7.158:5432/locations/all\", {\n              headers: token\n            });\n            return response;\n          } catch (error) {\n            console.error(\"Error during locations:\", error);\n            throw error;\n          }\n        }\n      });\n      function getLocations() {\n        return _getLocations.apply(this, arguments);\n      }\n      return getLocations;\n    }()\n  }, {\n    key: \"searchLocations\",\n    value: function () {\n      var _searchLocations = _asyncToGenerator(function* (searchQuery) {\n        var token = yield AuthHeaderService.authHeader();\n        if (token) {\n          try {\n            console.log(\"He entrado al servicio:\" + searchQuery);\n            var response = yield axios.get(API_URL + \"/search/\" + searchQuery, {\n              headers: token\n            });\n            return response;\n          } catch (error) {\n            console.error(\"Error during register:\", error);\n            throw error;\n          }\n        }\n      });\n      function searchLocations(_x) {\n        return _searchLocations.apply(this, arguments);\n      }\n      return searchLocations;\n    }()\n  }, {\n    key: \"getLocation\",\n    value: function () {\n      var _getLocation = _asyncToGenerator(function* (locationId) {\n        var token = yield AuthHeaderService.authHeader();\n        if (token) {\n          try {\n            var response = yield axios.get(API_URL + \"/\" + locationId, {\n              headers: token\n            });\n            return response;\n          } catch (error) {\n            console.error(\"Error when obtaining person:\", error);\n            throw error;\n          }\n        }\n      });\n      function getLocation(_x2) {\n        return _getLocation.apply(this, arguments);\n      }\n      return getLocation;\n    }()\n  }]);\n  return LocationService;\n}();","map":{"version":3,"names":["axios","AuthHeaderService","API_URL","LocationService","_classCallCheck","_createClass","key","value","_getLocations","_asyncToGenerator","token","authHeader","response","get","headers","error","console","getLocations","apply","arguments","_searchLocations","searchQuery","log","searchLocations","_x","_getLocation","locationId","getLocation","_x2"],"sources":["C:/Users/eloim/Uni/ProyectoEA/Frontend_/FrontEnd_EA_App/src/infrastructure/services/location/location.service.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport { AuthHeaderService } from \"../user/authHeaders.service\";\r\n\r\nconst API_URL = \"http://147.83.7.158:5432/location\";\r\n\r\nexport class LocationService {\r\n  static async getLocations() {\r\n    const token = await AuthHeaderService.authHeader();\r\n    if (token) {\r\n      try {\r\n        const response = await axios.get(\r\n          \"http://147.83.7.158:5432/locations/all\",\r\n          {\r\n            headers: token,\r\n          }\r\n        );\r\n        return response;\r\n      } catch (error) {\r\n        console.error(\"Error during locations:\", error);\r\n        throw error;\r\n      }\r\n    }\r\n  }\r\n  //OK\r\n  static async searchLocations(searchQuery: string) {\r\n    const token = await AuthHeaderService.authHeader();\r\n    if (token) {\r\n      try {\r\n        console.log(\"He entrado al servicio:\" + searchQuery);\r\n        const response = await axios.get(API_URL + \"/search/\" + searchQuery, {\r\n          headers: token,\r\n        });\r\n        return response;\r\n      } catch (error) {\r\n        console.error(\"Error during register:\", error);\r\n        throw error;\r\n      }\r\n    }\r\n  }\r\n\r\n  //OK\r\n  static async getLocation(locationId: string) {\r\n    const token = await AuthHeaderService.authHeader();\r\n    if (token) {\r\n      try {\r\n        const response = await axios.get(API_URL + \"/\" + locationId, {\r\n            headers: token,\r\n        });\r\n        return response;\r\n      } catch (error) {\r\n        console.error(\"Error when obtaining person:\", error);\r\n        throw error;\r\n      }\r\n    }\r\n  }\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,iBAAiB;AAE1B,IAAMC,OAAO,GAAG,mCAAmC;AAEnD,WAAaC,eAAe;EAAA,SAAAA,gBAAA;IAAAC,eAAA,OAAAD,eAAA;EAAA;EAAAE,YAAA,CAAAF,eAAA;IAAAG,GAAA;IAAAC,KAAA;MAAA,IAAAC,aAAA,GAAAC,iBAAA,CAC1B,aAA4B;QAC1B,IAAMC,KAAK,SAAST,iBAAiB,CAACU,UAAU,CAAC,CAAC;QAClD,IAAID,KAAK,EAAE;UACT,IAAI;YACF,IAAME,QAAQ,SAASZ,KAAK,CAACa,GAAG,CAC9B,wCAAwC,EACxC;cACEC,OAAO,EAAEJ;YACX,CACF,CAAC;YACD,OAAOE,QAAQ;UACjB,CAAC,CAAC,OAAOG,KAAK,EAAE;YACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;YAC/C,MAAMA,KAAK;UACb;QACF;MACF,CAAC;MAAA,SAAAE,aAAA;QAAA,OAAAT,aAAA,CAAAU,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAF,YAAA;IAAA;EAAA;IAAAX,GAAA;IAAAC,KAAA;MAAA,IAAAa,gBAAA,GAAAX,iBAAA,CAED,WAA6BY,WAAmB,EAAE;QAChD,IAAMX,KAAK,SAAST,iBAAiB,CAACU,UAAU,CAAC,CAAC;QAClD,IAAID,KAAK,EAAE;UACT,IAAI;YACFM,OAAO,CAACM,GAAG,CAAC,yBAAyB,GAAGD,WAAW,CAAC;YACpD,IAAMT,QAAQ,SAASZ,KAAK,CAACa,GAAG,CAACX,OAAO,GAAG,UAAU,GAAGmB,WAAW,EAAE;cACnEP,OAAO,EAAEJ;YACX,CAAC,CAAC;YACF,OAAOE,QAAQ;UACjB,CAAC,CAAC,OAAOG,KAAK,EAAE;YACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;YAC9C,MAAMA,KAAK;UACb;QACF;MACF,CAAC;MAAA,SAAAQ,gBAAAC,EAAA;QAAA,OAAAJ,gBAAA,CAAAF,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAI,eAAA;IAAA;EAAA;IAAAjB,GAAA;IAAAC,KAAA;MAAA,IAAAkB,YAAA,GAAAhB,iBAAA,CAGD,WAAyBiB,UAAkB,EAAE;QAC3C,IAAMhB,KAAK,SAAST,iBAAiB,CAACU,UAAU,CAAC,CAAC;QAClD,IAAID,KAAK,EAAE;UACT,IAAI;YACF,IAAME,QAAQ,SAASZ,KAAK,CAACa,GAAG,CAACX,OAAO,GAAG,GAAG,GAAGwB,UAAU,EAAE;cACzDZ,OAAO,EAAEJ;YACb,CAAC,CAAC;YACF,OAAOE,QAAQ;UACjB,CAAC,CAAC,OAAOG,KAAK,EAAE;YACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;YACpD,MAAMA,KAAK;UACb;QACF;MACF,CAAC;MAAA,SAAAY,YAAAC,GAAA;QAAA,OAAAH,YAAA,CAAAP,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAQ,WAAA;IAAA;EAAA;EAAA,OAAAxB,eAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}