{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { useState } from \"react\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { SessionService } from \"../../services/user/session.service\";\nimport { PublicationService } from \"../../services/publication/publication.service\";\nimport { useFocusEffect, useNavigation } from \"@react-navigation/native\";\nimport { CRUDService } from \"../../services/user/CRUD.service\";\nimport React from \"react\";\nimport { CommentService } from \"../../services/comment/comment.service\";\nimport FontAwesome from \"@expo/vector-icons/FontAwesome\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function FeedScreen() {\n  var navigation = useNavigation();\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentUser = _useState2[0],\n    setCurrentUser = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    listPublications = _useState4[0],\n    setListPublications = _useState4[1];\n  var _useState5 = useState(1),\n    _useState6 = _slicedToArray(_useState5, 2),\n    numPagePublication = _useState6[0],\n    setNumPagePublication = _useState6[1];\n  var _useState7 = useState({}),\n    _useState8 = _slicedToArray(_useState7, 2),\n    commentsVisibility = _useState8[0],\n    setCommentsVisibility = _useState8[1];\n  var _useState9 = useState({}),\n    _useState10 = _slicedToArray(_useState9, 2),\n    pageComments = _useState10[0],\n    setPageComments = _useState10[1];\n  var _useState11 = useState({}),\n    _useState12 = _slicedToArray(_useState11, 2),\n    commentButton = _useState12[0],\n    setCommentButton = _useState12[1];\n  var _useState13 = useState({}),\n    _useState14 = _slicedToArray(_useState13, 2),\n    listCommentsPublication = _useState14[0],\n    setListCommentsPublication = _useState14[1];\n  var _useState15 = useState({}),\n    _useState16 = _slicedToArray(_useState15, 2),\n    showCommentForm = _useState16[0],\n    setShowCommentForm = _useState16[1];\n  var _useState17 = useState({}),\n    _useState18 = _slicedToArray(_useState17, 2),\n    commentText = _useState18[0],\n    setCommentText = _useState18[1];\n  var _useState19 = useState(''),\n    _useState20 = _slicedToArray(_useState19, 2),\n    recargar = _useState20[0],\n    setRecargar = _useState20[1];\n  useFocusEffect(React.useCallback(function () {\n    console.log(\"Iniciamos feed\");\n    var fetchData = function () {\n      var _ref = _asyncToGenerator(function* () {\n        var userId = yield SessionService.getCurrentUser();\n        if (userId) {\n          try {\n            var response = yield CRUDService.getUser(userId);\n            console.log(\"Punto 1:\", response);\n            console.log(response == null ? void 0 : response.data);\n            setCurrentUser(response == null ? void 0 : response.data);\n            PublicationService.feed(numPagePublication.toString(), userId).then(function (response) {\n              console.log(response);\n              console.log(response.data);\n              console.log(\"userId\", userId);\n              var initialVisibility = response.data.reduce(function (acc, publication) {\n                acc[publication.uuid] = false;\n                return acc;\n              }, {});\n              setCommentsVisibility(initialVisibility);\n              var initialPage = response.data.reduce(function (acc, publication) {\n                acc[publication.uuid] = 1;\n                return acc;\n              }, {});\n              setPageComments(initialPage);\n              var initialCommentButton = response.data.reduce(function (acc, publication) {\n                acc[publication.uuid] = \"Show comments\";\n                return acc;\n              }, {});\n              setCommentButton(initialCommentButton);\n              var initialListComments = response.data.reduce(function (acc, publication) {\n                acc[publication.uuid] = [];\n                return acc;\n              }, {});\n              setListCommentsPublication(initialListComments);\n              var initialCommentText = response.data.reduce(function (acc, publication) {\n                acc[publication.uuid] = \"\";\n                return acc;\n              }, {});\n              setCommentText(initialCommentText);\n              setListPublications(response.data);\n            }).catch(function (error) {\n              console.log(error);\n            });\n          } catch (error) {\n            console.log(\"Encontre el id pero no va\");\n          }\n        }\n      });\n      return function fetchData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    fetchData();\n  }, [numPagePublication, recargar]));\n  var handleLoadMore = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      console.log(\"Has pulsado el btn\");\n      setNumPagePublication(function (prevPage) {\n        return prevPage + 1;\n      });\n      var userId = yield SessionService.getCurrentUser();\n      console.log(\"HandleLoadMore:\" + numPagePublication);\n      if (userId) {\n        PublicationService.feed(numPagePublication.toString(), userId).then(function (response) {\n          console.log(response);\n          console.log(response.data);\n          setListPublications(function (prevPublications) {\n            return [].concat(_toConsumableArray(prevPublications), _toConsumableArray(response.data));\n          });\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    });\n    return function handleLoadMore() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var getComments = function getComments(idPublication) {\n    console.log(\"Ver comentarios\");\n    console.log(\"idPublication: \" + idPublication);\n    console.log(\"commentsVisibility[PublicationId]=\" + commentsVisibility[idPublication]);\n    console.log(\"pageComments[PublicationId]=\" + pageComments[idPublication]);\n    setCommentsVisibility(function (prevVisibility) {\n      var updatedVisibility = _objectSpread(_objectSpread({}, prevVisibility), {}, _defineProperty({}, idPublication, !prevVisibility[idPublication]));\n      console.log(\"second \" + updatedVisibility[idPublication]);\n      if (updatedVisibility[idPublication]) {\n        setCommentButton(function (prevCommentButton) {\n          return _objectSpread(_objectSpread({}, prevCommentButton), {}, _defineProperty({}, idPublication, prevCommentButton[idPublication] = \"Hide Comments\"));\n        });\n        console.log(\"Entro a hide\");\n        CommentService.getCommentsPublication(idPublication, pageComments[idPublication].toString()).then(function (response) {\n          console.log(response);\n          console.log(response.data);\n          setListCommentsPublication(function (prevListComments) {\n            return _objectSpread(_objectSpread({}, prevListComments), {}, _defineProperty({}, idPublication, response.data));\n          });\n        }).catch(function (error) {});\n      } else {\n        setCommentButton(function (prevCommentButton) {\n          return _objectSpread(_objectSpread({}, prevCommentButton), {}, _defineProperty({}, idPublication, prevCommentButton[idPublication] = \"Show Comments\"));\n        });\n        console.log(\"Entro a show\");\n        setListCommentsPublication(function (prevListComments) {\n          return _objectSpread(_objectSpread({}, prevListComments), {}, _defineProperty({}, idPublication, []));\n        });\n        setPageComments(function (prevPageComments) {\n          return _objectSpread(_objectSpread({}, prevPageComments), {}, _defineProperty({}, idPublication, prevPageComments[idPublication] = 1));\n        });\n      }\n      return updatedVisibility;\n    });\n    console.log(\"Page comentarios:\" + pageComments[idPublication]);\n  };\n  var showMoreComments = function showMoreComments(idPublication) {\n    console.log(\"Ver más comentarios\");\n    setPageComments(function (prevPageComments) {\n      return _objectSpread(_objectSpread({}, prevPageComments), {}, _defineProperty({}, idPublication, prevPageComments[idPublication] + 1));\n    });\n    CommentService.getCommentsPublication(idPublication, (pageComments[idPublication] + 1).toString()).then(function (response) {\n      console.log(response);\n      console.log(response.data);\n      setListCommentsPublication(function (prevListComments) {\n        return _objectSpread(_objectSpread({}, prevListComments), {}, _defineProperty({}, idPublication, [].concat(_toConsumableArray(prevListComments[idPublication]), _toConsumableArray(response.data))));\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n  var handleToggleCommentForm = function handleToggleCommentForm(idPublication) {\n    setShowCommentForm(function (prevShowComments) {\n      return _objectSpread(_objectSpread({}, prevShowComments), {}, _defineProperty({}, idPublication, !prevShowComments[idPublication]));\n    });\n  };\n  var handleInputChange = function handleInputChange(event, idPublication) {\n    setCommentText(function (prevCommentText) {\n      return _objectSpread(_objectSpread({}, prevCommentText), {}, _defineProperty({}, idPublication, prevCommentText[idPublication] = event.target.value));\n    });\n  };\n  var handleSubmit = function () {\n    var _ref3 = _asyncToGenerator(function* (event, idPublication) {\n      event.preventDefault();\n      var userId = yield SessionService.getCurrentUser();\n      if (userId) {\n        var comment = {\n          idUserComment: userId,\n          idPublicationComment: idPublication,\n          textComment: commentText[idPublication]\n        };\n        CommentService.createComment(comment).then(function (response) {\n          console.log(response);\n          console.log(response.data);\n          setRecargar(\"recargate\");\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n      setCommentText(function (prevCommentText) {\n        return _objectSpread(_objectSpread({}, prevCommentText), {}, _defineProperty({}, idPublication, prevCommentText[idPublication] = \"\"));\n      });\n    });\n    return function handleSubmit(_x, _x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  return _jsx(ScrollView, {\n    children: _jsxs(View, {\n      children: [_jsx(Text, {\n        children: \"Feed\"\n      }), _jsx(View, {\n        style: styles.feed,\n        children: listPublications.map(function (publication) {\n          var _publication$comments, _pageComments$publica;\n          return _jsxs(View, {\n            style: styles.post,\n            children: [_jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                return navigation.navigate('ProfileScreen');\n              },\n              style: styles.userLink,\n              children: _jsxs(View, {\n                style: styles.postHeader,\n                children: [_jsx(Image, {\n                  source: {\n                    uri: publication.idUser.photoUser\n                  },\n                  style: styles.postProfileImg,\n                  resizeMode: \"cover\"\n                }), _jsxs(View, {\n                  style: styles.postInfo,\n                  children: [_jsx(Text, {\n                    style: styles.postUsernameHeader,\n                    children: publication.idUser.appUser\n                  }), _jsx(Text, {\n                    style: styles.postTimestampHeader,\n                    children: new Date(publication.createdAt).toLocaleString()\n                  })]\n                })]\n              })\n            }), _jsxs(View, {\n              style: styles.postBody,\n              children: [publication.photoPublication.map(function (photo) {\n                return _jsx(Image, {\n                  source: {\n                    uri: photo\n                  },\n                  style: styles.postImage,\n                  resizeMode: \"cover\"\n                }, photo);\n              }), _jsx(Text, {\n                style: styles.postText,\n                children: publication.textPublication\n              })]\n            }), _jsxs(View, {\n              style: styles.postComments,\n              children: [_jsx(TouchableOpacity, {\n                style: styles.showHide,\n                onPress: function onPress() {\n                  getComments(publication.uuid.toString());\n                },\n                children: _jsxs(Text, {\n                  children: [commentsVisibility[publication.uuid], \" \", commentButton[publication.uuid], \" \", (_publication$comments = publication.commentsPublication) == null ? void 0 : _publication$comments.length]\n                })\n              }), _jsx(TouchableOpacity, {\n                style: {\n                  alignItems: \"center\"\n                },\n                onPress: function onPress() {\n                  handleToggleCommentForm(publication.uuid.toString());\n                },\n                children: _jsx(FontAwesome, {\n                  name: \"commentIcon\",\n                  size: 24,\n                  color: \"black\"\n                })\n              }), showCommentForm[publication.uuid] && _jsxs(View, {\n                children: [_jsx(TextInput, {\n                  style: styles.inputComment,\n                  value: commentText[publication.uuid],\n                  onChangeText: function onChangeText(event) {\n                    return handleInputChange(event, publication.uuid.toString());\n                  }\n                }), _jsx(TouchableOpacity, {\n                  style: styles.buttonSendComment,\n                  onPress: function onPress(event) {\n                    return handleSubmit(event, publication.uuid.toString());\n                  },\n                  children: _jsx(Text, {\n                    style: styles.textButtonSend,\n                    children: \"Send Comment\"\n                  })\n                })]\n              })]\n            }), commentsVisibility[publication.uuid] && _jsxs(View, {\n              children: [listCommentsPublication[publication.uuid].map(function (comment) {\n                return _jsx(TouchableOpacity, {\n                  style: styles.commentContainer,\n                  children: _jsxs(View, {\n                    style: styles.userComment,\n                    children: [comment.idUserComment.photoUser ? _jsx(Image, {\n                      source: {\n                        uri: comment.idUserComment.photoUser\n                      },\n                      style: styles.commentProfileImg\n                    }) : _jsx(Image, {\n                      source: {\n                        uri: \"https://pbs.twimg.com/profile_images/1354463303486025733/Bn-iEeUO_400x400.jpg\"\n                      },\n                      style: styles.commentProfileImg\n                    }), _jsxs(View, {\n                      style: styles.userInfo,\n                      children: [_jsxs(Text, {\n                        style: styles.userName,\n                        children: [\"@\", comment.idUserComment.appUser]\n                      }), _jsx(Text, {\n                        style: styles.commentText,\n                        children: comment.textComment\n                      })]\n                    })]\n                  })\n                }, comment.uuid);\n              }), publication.commentsPublication && publication.commentsPublication.length > ((_pageComments$publica = pageComments[publication.uuid]) != null ? _pageComments$publica : 0) * 2 ? _jsx(TouchableOpacity, {\n                style: styles.showMoreCommentsButton,\n                onPress: function onPress() {\n                  showMoreComments(publication.uuid);\n                },\n                children: _jsx(Text, {\n                  style: styles.showMoreCommentsButtonText,\n                  children: \"Show More\"\n                })\n              }) : _jsx(TouchableOpacity, {\n                style: styles.showMoreCommentsButtonDisabled,\n                onPress: function onPress() {\n                  showMoreComments(publication.uuid);\n                },\n                disabled: true,\n                children: _jsx(Text, {\n                  style: styles.showMoreCommentsButtonText,\n                  children: \"Show More \"\n                })\n              })]\n            })]\n          }, publication.uuid);\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.loadMore,\n        onPress: function onPress() {\n          handleLoadMore;\n        },\n        children: _jsx(Text, {\n          style: styles.loadMoreText,\n          children: \"Load More\"\n        })\n      })]\n    })\n  });\n}\n;\nvar styles = StyleSheet.create({\n  feed: {\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  post: {\n    flex: 1,\n    flexGrow: 1,\n    height: 400,\n    flexDirection: 'column',\n    width: 300,\n    justifyContent: 'flex-start',\n    borderRadius: 20,\n    borderWidth: 1,\n    marginBottom: 6\n  },\n  userLink: {\n    alignItems: 'center',\n    padding: 10\n  },\n  postHeader: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    marginTop: 0,\n    marginBottom: 0\n  },\n  postProfileImg: {\n    width: 50,\n    height: 50,\n    resizeMode: 'cover',\n    marginRight: 10,\n    borderRadius: 50\n  },\n  postInfo: {\n    flex: 1,\n    textAlign: 'left'\n  },\n  postUsernameHeader: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 5,\n    marginTop: 6,\n    marginLeft: 0,\n    color: '#66fcf1'\n  },\n  postTimestampHeader: {\n    fontSize: 12,\n    color: '#000',\n    marginLeft: 0,\n    marginTop: 0\n  },\n  postBody: {\n    alignItems: 'center',\n    padding: 10\n  },\n  postImage: {\n    alignItems: 'center',\n    padding: 10,\n    width: 200,\n    height: 200\n  },\n  postText: {\n    textAlign: 'left',\n    fontSize: 18,\n    color: '#000',\n    marginTop: 10,\n    marginBottom: 0\n  },\n  postComments: {\n    display: 'flex'\n  },\n  showHide: {\n    marginTop: 2,\n    marginBottom: 0,\n    padding: 6,\n    backgroundColor: \"66fcf2\",\n    borderWidth: 0,\n    width: 200,\n    textAlign: \"center\",\n    alignSelf: \"center\"\n  },\n  inputComment: {\n    backgroundColor: \"66fcf2\",\n    borderWidth: 0,\n    height: 50,\n    width: 200,\n    flex: 1,\n    alignContent: 'center'\n  },\n  buttonSendComment: {},\n  textButtonSend: {},\n  commentContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    flex: 1,\n    justifyContent: \"flex-start\",\n    marginTop: 0,\n    marginBottom: 10\n  },\n  userComment: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n    borderWidth: 0,\n    height: 40,\n    marginTop: 0,\n    marginBottom: -20,\n    marginLeft: 0,\n    borderRadius: 40,\n    borderColor: \"#fff\",\n    paddingTop: 7,\n    paddingBottom: 7\n  },\n  commentProfileImg: {},\n  userInfo: {},\n  userName: {\n    margin: 6,\n    padding: 6,\n    borderWidth: 0,\n    color: \"#66fcf1\",\n    fontSize: 16,\n    textAlign: \"center\",\n    alignSelf: \"center\",\n    marginBottom: 60\n  },\n  commentText: {\n    fontSize: 14,\n    marginTop: 0,\n    marginBottom: 0,\n    color: \"#fff\"\n  },\n  showMoreCommentsButton: {\n    marginTop: 2,\n    marginBottom: 0,\n    padding: 6,\n    backgroundColor: \"66fcf2\",\n    borderWidth: 0,\n    width: 200,\n    textAlign: \"center\",\n    alignSelf: \"center\"\n  },\n  showMoreCommentsButtonText: {\n    color: \"#000000\",\n    fontSize: 14\n  },\n  showMoreCommentsButtonDisabled: {\n    margin: 18,\n    marginTop: 0,\n    marginBottom: 46,\n    padding: 6,\n    backgroundColor: \"#66fcf27e\",\n    borderWidth: 0,\n    borderRadius: 20,\n    width: 100,\n    textAlign: \"center\",\n    alignSelf: \"center\",\n    cursor: \"not-allowed\"\n  },\n  loadMore: {\n    margin: 6,\n    padding: 6,\n    backgroundColor: \"#66fcf1\",\n    borderRadius: 20,\n    width: 100,\n    textAlign: \"center\",\n    alignSelf: \"center\",\n    marginBottom: 60\n  },\n  loadMoreText: {\n    textAlign: 'center',\n    fontSize: 14,\n    color: '#000',\n    marginTop: 10,\n    marginBottom: 0\n  }\n});","map":{"version":3,"names":["useState","ScrollView","View","Text","TouchableOpacity","Image","StyleSheet","TextInput","SessionService","PublicationService","useFocusEffect","useNavigation","CRUDService","React","CommentService","FontAwesome","jsx","_jsx","jsxs","_jsxs","FeedScreen","navigation","_useState","_useState2","_slicedToArray","currentUser","setCurrentUser","_useState3","_useState4","listPublications","setListPublications","_useState5","_useState6","numPagePublication","setNumPagePublication","_useState7","_useState8","commentsVisibility","setCommentsVisibility","_useState9","_useState10","pageComments","setPageComments","_useState11","_useState12","commentButton","setCommentButton","_useState13","_useState14","listCommentsPublication","setListCommentsPublication","_useState15","_useState16","showCommentForm","setShowCommentForm","_useState17","_useState18","commentText","setCommentText","_useState19","_useState20","recargar","setRecargar","useCallback","console","log","fetchData","_ref","_asyncToGenerator","userId","getCurrentUser","response","getUser","data","feed","toString","then","initialVisibility","reduce","acc","publication","uuid","initialPage","initialCommentButton","initialListComments","initialCommentText","catch","error","apply","arguments","handleLoadMore","_ref2","prevPage","prevPublications","concat","_toConsumableArray","getComments","idPublication","prevVisibility","updatedVisibility","_objectSpread","_defineProperty","prevCommentButton","getCommentsPublication","prevListComments","prevPageComments","showMoreComments","handleToggleCommentForm","prevShowComments","handleInputChange","event","prevCommentText","target","value","handleSubmit","_ref3","preventDefault","comment","idUserComment","idPublicationComment","textComment","createComment","_x","_x2","children","style","styles","map","_publication$comments","_pageComments$publica","post","onPress","navigate","userLink","postHeader","source","uri","idUser","photoUser","postProfileImg","resizeMode","postInfo","postUsernameHeader","appUser","postTimestampHeader","Date","createdAt","toLocaleString","postBody","photoPublication","photo","postImage","postText","textPublication","postComments","showHide","commentsPublication","length","alignItems","name","size","color","inputComment","onChangeText","buttonSendComment","textButtonSend","commentContainer","userComment","commentProfileImg","userInfo","userName","showMoreCommentsButton","showMoreCommentsButtonText","showMoreCommentsButtonDisabled","disabled","loadMore","loadMoreText","create","flexDirection","flex","flexGrow","height","width","justifyContent","borderRadius","borderWidth","marginBottom","padding","display","marginTop","marginRight","textAlign","fontSize","fontWeight","marginLeft","backgroundColor","alignSelf","alignContent","borderColor","paddingTop","paddingBottom","margin","cursor"],"sources":["C:/Users/eloim/OneDrive/Uni/4B/EA/ProyectoEA/Frontend_/FrontEnd_EA_App/src/infrastructure/UI/screens/feed.screen.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { ScrollView, View, Text, TouchableOpacity, Image, StyleSheet, TextInput } from \"react-native\";\r\nimport { PublicationEntity } from \"../../../domain/publication/publication.entity\";\r\nimport { SessionService } from \"../../services/user/session.service\";\r\nimport { PublicationService } from \"../../services/publication/publication.service\";\r\nimport { useFocusEffect, useNavigation } from \"@react-navigation/native\";\r\nimport { UserEntity } from \"../../../domain/user/user.entity\";\r\nimport { CRUDService } from \"../../services/user/CRUD.service\";\r\nimport React from \"react\";\r\nimport { CommentService } from \"../../services/comment/comment.service\";\r\nimport { AuthHeaderService } from \"../../services/user/authHeaders.service\";\r\nimport { CommentEntity } from \"../../../domain/comment/comment.entity\";\r\nimport FontAwesome from \"react-native-vector-icons/FontAwesome\";\r\n\r\nexport default function FeedScreen() {\r\n  const navigation = useNavigation();\r\n  const [currentUser, setCurrentUser] = useState<UserEntity | null>(null);\r\n  const [listPublications, setListPublications] = useState<PublicationEntity[]>([]);\r\n  const [numPagePublication, setNumPagePublication] = useState<number>(1);\r\n  const [commentsVisibility, setCommentsVisibility] = useState<{[key: string]: boolean; }>({});\r\n  const [pageComments, setPageComments] = useState<{ [key: string]: number }>({});\r\n  const [commentButton, setCommentButton] = useState<{ [key: string]: string }>({});\r\n  const [listCommentsPublication, setListCommentsPublication] = useState<{ [key: string]: CommentEntity[] }>({});\r\n  const [showCommentForm, setShowCommentForm] = useState<{[key: string]: boolean; }>({});\r\n  const [commentText, setCommentText] = useState<{ [key: string]: string }>({});\r\n  const [recargar, setRecargar] = useState<string>('');\r\n\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      console.log(\"Iniciamos feed\");\r\n      const fetchData = async () => {\r\n        const userId = await SessionService.getCurrentUser();\r\n        if (userId) {\r\n          try {\r\n            const response = await CRUDService.getUser(userId);\r\n            console.log(\"Punto 1:\", response);\r\n            console.log(response?.data);\r\n            setCurrentUser(response?.data);\r\n  \r\n            PublicationService.feed(numPagePublication.toString(), userId)\r\n              .then((response) => {\r\n                console.log(response);\r\n                console.log(response.data);\r\n                console.log(\"userId\", userId);\r\n  \r\n                const initialVisibility = response.data.reduce(\r\n                  (acc: { [key: string]: boolean }, publication: PublicationEntity) => {\r\n                    acc[publication.uuid] = false;\r\n                    return acc;\r\n                  },\r\n                  {}\r\n                );\r\n                setCommentsVisibility(initialVisibility);\r\n  \r\n                const initialPage = response.data.reduce(\r\n                  (acc: { [key: string]: number }, publication: PublicationEntity) => {\r\n                    acc[publication.uuid] = 1;\r\n                    return acc;\r\n                  },\r\n                  {}\r\n                );\r\n                setPageComments(initialPage);\r\n  \r\n                const initialCommentButton = response.data.reduce(\r\n                  (acc: { [key: string]: string }, publication: PublicationEntity) => {\r\n                    acc[publication.uuid] = \"Show comments\";\r\n                    return acc;\r\n                  },\r\n                  {}\r\n                );\r\n                setCommentButton(initialCommentButton);\r\n  \r\n                const initialListComments = response.data.reduce(\r\n                  (acc: { [key: string]: Comment[] }, publication: PublicationEntity) => {\r\n                    acc[publication.uuid] = [];\r\n                    return acc;\r\n                  },\r\n                  {}\r\n                );\r\n                setListCommentsPublication(initialListComments);\r\n\r\n                const initialCommentText= response.data.reduce(\r\n                  (acc: { [key: string]: string }, publication: PublicationEntity) => {\r\n                    acc[publication.uuid] = \"\";\r\n                    return acc;\r\n                  },\r\n                  {}\r\n                );\r\n                setCommentText(initialCommentText);\r\n  \r\n                setListPublications(response.data);\r\n              })\r\n              .catch(error => {\r\n                //navigation.navigate('NotFoundScreen' as never);\r\n                console.log(error)\r\n              });\r\n          } catch (error) {\r\n            console.log(\"Encontre el id pero no va\")\r\n          }\r\n        }\r\n      };\r\n      fetchData();\r\n    }, [numPagePublication, recargar])\r\n  );\r\n\r\n  const handleLoadMore = async () => {\r\n    console.log(\"Has pulsado el btn\");\r\n    setNumPagePublication((prevPage) => prevPage + 1);\r\n    const userId = await SessionService.getCurrentUser();\r\n    console.log(\"HandleLoadMore:\" + numPagePublication);\r\n    if(userId){\r\n      PublicationService.feed((numPagePublication).toString(), userId)\r\n      .then(response => {\r\n        console.log(response);\r\n        console.log(response.data);\r\n        setListPublications(prevPublications => [...prevPublications, ...response.data]);\r\n      }) .catch(error => {\r\n        //navigation.navigate('NotFoundScreen');\r\n        console.log(error);\r\n      });\r\n    }\r\n  };\r\n\r\n  const getComments = (idPublication: string) => {\r\n    console.log(\"Ver comentarios\");\r\n    console.log(\"idPublication: \" + idPublication);\r\n    console.log(\r\n      \"commentsVisibility[PublicationId]=\" + commentsVisibility[idPublication]\r\n    );\r\n    console.log(\"pageComments[PublicationId]=\" + pageComments[idPublication]);\r\n    setCommentsVisibility((prevVisibility) => {\r\n      const updatedVisibility = {\r\n        ...prevVisibility,\r\n        [idPublication]: !prevVisibility[idPublication],\r\n      };\r\n      console.log(\"second \" + updatedVisibility[idPublication]);\r\n\r\n      if (updatedVisibility[idPublication]) {\r\n        setCommentButton((prevCommentButton) => ({\r\n          ...prevCommentButton,\r\n          [idPublication]: (prevCommentButton[idPublication] = \"Hide Comments\"),\r\n        }));\r\n        console.log(\"Entro a hide\");\r\n        CommentService.getCommentsPublication(idPublication, (pageComments[idPublication]).toString())\r\n        .then(response => {\r\n          console.log(response);\r\n          console.log(response.data);\r\n          setListCommentsPublication(prevListComments => ({\r\n            ...prevListComments,\r\n            [idPublication]: response.data\r\n          }));\r\n        })\r\n        .catch(error => {\r\n          //navigation.navigate('NotFoundScreen' as never);\r\n        });\r\n      } else {\r\n        setCommentButton((prevCommentButton) => ({\r\n          ...prevCommentButton,\r\n          [idPublication]: (prevCommentButton[idPublication] = \"Show Comments\"),\r\n        }));\r\n        console.log(\"Entro a show\");\r\n        setListCommentsPublication((prevListComments) => ({\r\n          ...prevListComments,\r\n          [idPublication]: [],\r\n        }));\r\n        setPageComments((prevPageComments) => ({\r\n          ...prevPageComments,\r\n          [idPublication]: (prevPageComments[idPublication] = 1),\r\n        }));\r\n      }\r\n      return updatedVisibility;\r\n    });\r\n    console.log(\"Page comentarios:\" + pageComments[idPublication]);\r\n  };\r\n\r\n\r\n  const showMoreComments = (idPublication: string) => {\r\n    console.log(\"Ver más comentarios\");\r\n    setPageComments((prevPageComments) => ({\r\n      ...prevPageComments,\r\n      [idPublication]: prevPageComments[idPublication] + 1,\r\n    }));\r\n    CommentService.getCommentsPublication(\r\n      idPublication,\r\n      (pageComments[idPublication] + 1).toString()\r\n    )\r\n      .then((response) => {\r\n        console.log(response);\r\n        console.log(response.data);\r\n        setListCommentsPublication((prevListComments) => ({\r\n          ...prevListComments,\r\n          [idPublication]: [\r\n            ...prevListComments[idPublication],\r\n            ...response.data,\r\n          ],\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        //navigation.navigate(\"\");\r\n        console.log(error)\r\n      });\r\n  };\r\n\r\n  //Para escribir respuesta a publicación\r\n  const handleToggleCommentForm = (idPublication:string) => {\r\n    setShowCommentForm((prevShowComments) => ({\r\n      ...prevShowComments,\r\n      [idPublication]: !prevShowComments[idPublication],\r\n    }));\r\n  };\r\n\r\n  const handleInputChange = (event:any, idPublication:string) => {\r\n    setCommentText((prevCommentText) => ({\r\n      ...prevCommentText,\r\n      [idPublication]: prevCommentText[idPublication] = event.target.value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (event:any, idPublication:string) => {\r\n    event.preventDefault();\r\n\r\n    // Lógica para enviar el comentario a la publicación\r\n    const userId = await SessionService.getCurrentUser();\r\n\r\n    if(userId){\r\n      const comment:CommentEntity = {\r\n        idUserComment: userId,\r\n        idPublicationComment: idPublication,\r\n        textComment: commentText[idPublication],\r\n      };\r\n\r\n      CommentService.createComment(comment)\r\n        .then((response) => {\r\n          console.log(response);\r\n          console.log(response.data);\r\n          setRecargar(\"recargate\");\r\n        })\r\n        .catch(error => {\r\n          //navigation.navigate(\"\");\r\n          console.log(error);\r\n        });\r\n  \r\n    }\r\n    \r\n    setCommentText((prevCommentText) => ({\r\n      ...prevCommentText,\r\n      [idPublication]: prevCommentText[idPublication] = \"\",\r\n    }));\r\n  };\r\n  \r\n\r\n\r\n\r\n\r\n  \r\n  return (\r\n    <ScrollView>\r\n      <View>\r\n        <Text>Feed</Text>\r\n        <View style={styles.feed}>\r\n          {listPublications.map((publication) => (\r\n          <View style={styles.post} key={publication.uuid}>\r\n            <TouchableOpacity\r\n              onPress={() => navigation.navigate('ProfileScreen' as never)}\r\n              style={styles.userLink}\r\n            >\r\n              <View style={styles.postHeader}>\r\n                <Image\r\n                  source={{ uri: publication.idUser.photoUser }}\r\n                  style={styles.postProfileImg}\r\n                  resizeMode=\"cover\"\r\n                />\r\n                <View style={styles.postInfo}>\r\n                  <Text style={styles.postUsernameHeader}>{publication.idUser.appUser}</Text>\r\n                  <Text style={styles.postTimestampHeader}>{new Date(publication.createdAt).toLocaleString()}</Text>\r\n                </View>\r\n              </View>\r\n            </TouchableOpacity>\r\n            <View style={styles.postBody}>\r\n              {publication.photoPublication.map((photo) => (\r\n                <Image\r\n                  key={photo}\r\n                  source={{ uri: photo }}\r\n                  style={styles.postImage}\r\n                  resizeMode=\"cover\"\r\n                />\r\n              ))}\r\n              <Text style={styles.postText}>{publication.textPublication}</Text>\r\n            </View>\r\n            <View style={styles.postComments}>\r\n              <TouchableOpacity style={styles.showHide} onPress={() => {\r\n                getComments(publication.uuid.toString());\r\n                }}\r\n                >\r\n                <Text>\r\n                  {commentsVisibility[publication.uuid]}{\" \"}\r\n                  {commentButton[publication.uuid]}{\" \"}\r\n                  {publication.commentsPublication?.length}\r\n                </Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={{ alignItems: \"center\" }} onPress={() => {\r\n                  handleToggleCommentForm(publication.uuid.toString());\r\n                }}\r\n                >\r\n                <FontAwesome name=\"commentIcon\" size={24} color=\"black\" />\r\n              </TouchableOpacity>\r\n              {showCommentForm[publication.uuid] && (\r\n                <View>\r\n                  <TextInput\r\n                    style={styles.inputComment}\r\n                    value={commentText[publication.uuid]}\r\n                    onChangeText={(event) => handleInputChange(event, publication.uuid.toString())}\r\n                  />\r\n                  <TouchableOpacity\r\n                    style={styles.buttonSendComment}\r\n                    onPress={(event) => handleSubmit(event, publication.uuid.toString())}\r\n                  >\r\n                    <Text style={styles.textButtonSend}>Send Comment</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              )}  \r\n            </View>\r\n            {commentsVisibility[publication.uuid] && (\r\n              <View>\r\n                {listCommentsPublication[publication.uuid].map((comment) => (\r\n                  <TouchableOpacity\r\n                    key={comment.uuid}\r\n                    //onPress={() => navigation.navigate('ProfileScreen', { userId: comment.idUserComment.uuid })}\r\n                    style={styles.commentContainer}\r\n                  >\r\n                    <View style={styles.userComment}>\r\n                      {comment.idUserComment.photoUser ? (\r\n                        <Image\r\n                          source={{ uri: comment.idUserComment.photoUser }}\r\n                          style={styles.commentProfileImg}\r\n                        />\r\n                      ) : (\r\n                        <Image\r\n                          source={{ uri: \"https://pbs.twimg.com/profile_images/1354463303486025733/Bn-iEeUO_400x400.jpg\" }}\r\n                          style={styles.commentProfileImg}\r\n                        />\r\n                      )}\r\n                      <View style={styles.userInfo}>\r\n                        <Text style={styles.userName}>@{comment.idUserComment.appUser}</Text>\r\n                        <Text style={styles.commentText}>{comment.textComment}</Text>\r\n                      </View>\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                ))}\r\n                \r\n                {publication.commentsPublication &&\r\n                    publication.commentsPublication.length >\r\n                      (pageComments[publication.uuid] ?? 0) * 2 ? (\r\n                      <TouchableOpacity\r\n                        style={styles.showMoreCommentsButton}\r\n                        onPress={() => {\r\n                          showMoreComments(publication.uuid);\r\n                        }}\r\n                      >\r\n                        <Text style={styles.showMoreCommentsButtonText}>Show More</Text>\r\n                      </TouchableOpacity>\r\n                    ) : (\r\n                      <TouchableOpacity\r\n                        style={styles.showMoreCommentsButtonDisabled}\r\n                        onPress={() => {\r\n                          showMoreComments(publication.uuid);\r\n                        }}\r\n                        disabled\r\n                      >\r\n                        <Text style={styles.showMoreCommentsButtonText}>Show More </Text>\r\n                      </TouchableOpacity>\r\n                )}                \r\n              </View>\r\n            )}\r\n          </View>\r\n          ))}\r\n        </View>\r\n        <TouchableOpacity style={styles.loadMore} onPress={() => {handleLoadMore}}>\r\n          <Text style={styles.loadMoreText}>Load More</Text>\r\n        </TouchableOpacity>\r\n\r\n      </View>\r\n    </ScrollView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  feed: {\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  post: {\r\n    flex:1,\r\n    flexGrow:1,\r\n    height: 400,\r\n    flexDirection: 'column',\r\n    width: 300,\r\n    justifyContent: 'flex-start',\r\n    borderRadius: 20,\r\n    borderWidth: 1,\r\n    marginBottom: 6,\r\n  },\r\n  userLink: {\r\n    alignItems: 'center',\r\n    padding: 10,\r\n  },\r\n  postHeader: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n    marginTop: 0,\r\n    marginBottom: 0,\r\n  },\r\n  postProfileImg: {\r\n    width: 50,\r\n    height: 50,\r\n    resizeMode: 'cover',\r\n    marginRight: 10,\r\n    borderRadius: 50,\r\n  },\r\n  postInfo: {\r\n    flex: 1,\r\n    textAlign: 'left',\r\n  },\r\n  postUsernameHeader: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    marginBottom: 5,\r\n    marginTop: 6,\r\n    marginLeft: 0,\r\n    color: '#66fcf1',\r\n  },\r\n  postTimestampHeader: {\r\n    fontSize: 12,\r\n    color: '#000',\r\n    marginLeft: 0,\r\n    marginTop: 0,\r\n  },\r\n  postBody: {\r\n    alignItems: 'center',\r\n    padding: 10,\r\n  },\r\n  postImage: {\r\n    alignItems: 'center',\r\n    padding: 10,\r\n    width: 200, \r\n    height: 200\r\n  },\r\n  postText: {\r\n    textAlign: 'left',\r\n    fontSize: 18,\r\n    color: '#000',\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n  },\r\n  postComments:{\r\n    display:'flex',\r\n  },\r\n  showHide:{\r\n    marginTop: 2,\r\n    marginBottom: 0,\r\n    padding: 6,\r\n    backgroundColor: \"66fcf2\",\r\n    borderWidth: 0,\r\n    width: 200,\r\n    textAlign: \"center\",\r\n    alignSelf: \"center\",\r\n  },\r\n  inputComment:{\r\n    backgroundColor: \"66fcf2\",\r\n    borderWidth: 0,\r\n    height:50,\r\n    width: 200,\r\n    flex:1,\r\n    alignContent:'center',\r\n  },\r\n  buttonSendComment:{\r\n\r\n  },\r\n  textButtonSend:{\r\n\r\n  },\r\n  commentContainer:{\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    flex: 1,\r\n    justifyContent: \"flex-start\",\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n  }, \r\n  userComment:{\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-start\",\r\n    borderWidth: 0,\r\n    height: 40,\r\n    marginTop: 0,\r\n    marginBottom: -20,\r\n    marginLeft: 0,\r\n    borderRadius: 40,\r\n    borderColor: \"#fff\",\r\n    paddingTop: 7,\r\n    paddingBottom: 7,\r\n\r\n  }, \r\n  commentProfileImg:{\r\n\r\n  }, \r\n  userInfo:{\r\n\r\n\r\n  }, \r\n  userName:{\r\n    margin: 6,\r\n    padding: 6,\r\n    borderWidth: 0,\r\n    color: \"#66fcf1\",\r\n    fontSize: 16,\r\n    textAlign: \"center\",\r\n    alignSelf: \"center\",\r\n    marginBottom: 60,\r\n  }, \r\n  commentText:{\r\n    fontSize: 14,\r\n    marginTop: 0,\r\n    marginBottom: 0,\r\n    color: \"#fff\",\r\n  },\r\n  showMoreCommentsButton:{\r\n    marginTop: 2,\r\n    marginBottom: 0,\r\n    padding: 6,\r\n    backgroundColor: \"66fcf2\",\r\n    borderWidth: 0,\r\n    width: 200,\r\n    textAlign: \"center\",\r\n    alignSelf: \"center\",\r\n  },\r\n  showMoreCommentsButtonText:{\r\n    color: \"#000000\",\r\n    fontSize: 14,\r\n  },\r\n  showMoreCommentsButtonDisabled:{\r\n    margin: 18,\r\n    marginTop: 0,\r\n    marginBottom: 46,\r\n    padding: 6,\r\n    backgroundColor: \"#66fcf27e\",\r\n    borderWidth: 0,\r\n    borderRadius: 20,\r\n    width: 100,\r\n    textAlign: \"center\",\r\n    alignSelf: \"center\",\r\n    cursor: \"not-allowed\",\r\n  },\r\n  loadMore:{\r\n    margin: 6,\r\n    padding: 6,\r\n    backgroundColor: \"#66fcf1\",\r\n    borderRadius: 20,\r\n    width: 100,\r\n    textAlign: \"center\",\r\n    alignSelf: \"center\",\r\n    marginBottom: 60,\r\n  }, \r\n  loadMoreText:{\r\n    textAlign: 'center',\r\n    fontSize: 14,\r\n    color: '#000',\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n  }\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}